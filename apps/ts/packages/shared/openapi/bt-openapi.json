{
  "openapi": "3.1.0",
  "info": {
    "title": "Trading25 API",
    "description": "Financial data analysis API with JQuants integration, featuring a two-layer architecture (Layer 1: JQuants Proxy for development/debugging, Layer 2: Chart & Analytics for production)",
    "contact": {
      "name": "Trading25 Team"
    },
    "license": {
      "name": "MIT",
      "url": "https://opensource.org/licenses/MIT"
    },
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "http://localhost:3002",
      "description": "FastAPI server"
    },
    {
      "url": "http://localhost:3001",
      "description": "Hono server (legacy)"
    }
  ],
  "paths": {
    "/api/health": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Health Check",
        "description": "ヘルスチェック\n\nサーバーの状態を確認",
        "operationId": "health_check_api_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Health Check Alias",
        "description": "ヘルスチェック（Hono 互換エイリアス）\n\n`/api/health` と同一レスポンスを返す",
        "operationId": "health_check_alias_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/strategies": {
      "get": {
        "tags": [
          "Strategies"
        ],
        "summary": "List Strategies",
        "description": "戦略一覧を取得\n\n全カテゴリの戦略メタデータを返却",
        "operationId": "list_strategies_api_strategies_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StrategyListResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/strategies/{strategy_name}": {
      "get": {
        "tags": [
          "Strategies"
        ],
        "summary": "Get Strategy Detail",
        "description": "戦略詳細を取得\n\nArgs:\n    strategy_name: 戦略名（例: 'range_break_v5', 'production/range_break_v5'）",
        "operationId": "get_strategy_detail_api_strategies__strategy_name__get",
        "parameters": [
          {
            "name": "strategy_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Strategy Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StrategyDetailResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Strategies"
        ],
        "summary": "Update Strategy",
        "description": "戦略設定を更新\n\nArgs:\n    strategy_name: 戦略名\n    request: 更新する設定\n\nNote:\n    experimentalカテゴリのみ更新可能",
        "operationId": "update_strategy_api_strategies__strategy_name__put",
        "parameters": [
          {
            "name": "strategy_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Strategy Name"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StrategyUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StrategyUpdateResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Strategies"
        ],
        "summary": "Delete Strategy",
        "description": "戦略を削除\n\nArgs:\n    strategy_name: 戦略名\n\nNote:\n    experimentalカテゴリのみ削除可能",
        "operationId": "delete_strategy_api_strategies__strategy_name__delete",
        "parameters": [
          {
            "name": "strategy_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Strategy Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StrategyDeleteResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/strategies/{strategy_name}/validate": {
      "post": {
        "tags": [
          "Strategies"
        ],
        "summary": "Validate Strategy",
        "description": "戦略設定を検証\n\nArgs:\n    strategy_name: 戦略名\n    request: 検証する設定（省略時は既存の設定を検証）",
        "operationId": "validate_strategy_api_strategies__strategy_name__validate_post",
        "parameters": [
          {
            "name": "strategy_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Strategy Name"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "$ref": "#/components/schemas/StrategyValidationRequest"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Request"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StrategyValidationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/strategies/{strategy_name}/duplicate": {
      "post": {
        "tags": [
          "Strategies"
        ],
        "summary": "Duplicate Strategy",
        "description": "戦略を複製\n\nArgs:\n    strategy_name: 複製元の戦略名\n    request: 複製先の新しい戦略名\n\nNote:\n    複製先は常にexperimentalカテゴリ",
        "operationId": "duplicate_strategy_api_strategies__strategy_name__duplicate_post",
        "parameters": [
          {
            "name": "strategy_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Strategy Name"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StrategyDuplicateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StrategyDuplicateResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/strategies/{strategy_name}/rename": {
      "post": {
        "tags": [
          "Strategies"
        ],
        "summary": "Rename Strategy",
        "description": "戦略をリネーム\n\nArgs:\n    strategy_name: 現在の戦略名\n    request: リネームリクエスト（新しい戦略名）\n\nNote:\n    experimentalカテゴリのみリネーム可能",
        "operationId": "rename_strategy_api_strategies__strategy_name__rename_post",
        "parameters": [
          {
            "name": "strategy_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Strategy Name"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StrategyRenameRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StrategyRenameResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/config/default": {
      "get": {
        "tags": [
          "Strategies"
        ],
        "summary": "Get Default Config",
        "description": "デフォルト設定をraw YAML文字列として取得\n\nコメントを保持するためYAML文字列をそのまま返却",
        "operationId": "get_default_config_api_config_default_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DefaultConfigResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Strategies"
        ],
        "summary": "Update Default Config",
        "description": "デフォルト設定を更新\n\nYAML文字列を受け取り、パース検証後にdefault.yamlに書き込み、\nConfigLoaderのメモリ内デフォルト設定をリロード",
        "operationId": "update_default_config_api_config_default_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DefaultConfigUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DefaultConfigUpdateResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/backtest/run": {
      "post": {
        "tags": [
          "Backtest"
        ],
        "summary": "Run Backtest",
        "description": "バックテストを実行\n\n非同期でバックテストをサブミットし、ジョブIDを返却\n結果は /api/backtest/jobs/{job_id} で確認",
        "operationId": "run_backtest_api_backtest_run_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BacktestRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BacktestJobResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/backtest/jobs/{job_id}": {
      "get": {
        "tags": [
          "Backtest"
        ],
        "summary": "Get Job Status",
        "description": "ジョブステータスを取得\n\nArgs:\n    job_id: ジョブID",
        "operationId": "get_job_status_api_backtest_jobs__job_id__get",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BacktestJobResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/backtest/jobs": {
      "get": {
        "tags": [
          "Backtest"
        ],
        "summary": "List Jobs",
        "description": "ジョブ一覧を取得\n\nArgs:\n    limit: 取得件数上限（デフォルト50）",
        "operationId": "list_jobs_api_backtest_jobs_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BacktestJobResponse"
                  },
                  "title": "Response List Jobs Api Backtest Jobs Get"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/backtest/jobs/{job_id}/cancel": {
      "post": {
        "tags": [
          "Backtest"
        ],
        "summary": "Cancel Job",
        "description": "ジョブをキャンセル\n\nPENDING/RUNNING → キャンセル実行 → 200\nCANCELLED → 200（冪等）\nCOMPLETED/FAILED → 409 Conflict",
        "operationId": "cancel_job_api_backtest_jobs__job_id__cancel_post",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BacktestJobResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/backtest/result/{job_id}": {
      "get": {
        "tags": [
          "Backtest"
        ],
        "summary": "Get Result",
        "description": "バックテスト結果を取得\n\nArgs:\n    job_id: ジョブID\n    include_html: HTMLコンテンツを含めるか（base64エンコード）",
        "operationId": "get_result_api_backtest_result__job_id__get",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          },
          {
            "name": "include_html",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Include Html"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BacktestResultResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/backtest/html-files": {
      "get": {
        "tags": [
          "Backtest"
        ],
        "summary": "List Html Files",
        "description": "バックテスト結果HTMLファイル一覧を取得\n\nArgs:\n    strategy: 戦略名でフィルタ（オプション）\n    limit: 取得件数上限（デフォルト100）",
        "operationId": "list_html_files_api_backtest_html_files_get",
        "parameters": [
          {
            "name": "strategy",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Strategy"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HtmlFileListResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/backtest/html-files/{strategy}/{filename}": {
      "get": {
        "tags": [
          "Backtest"
        ],
        "summary": "Get Html File Content",
        "description": "特定のHTMLファイルのコンテンツを取得\n\nArgs:\n    strategy: 戦略名\n    filename: ファイル名",
        "operationId": "get_html_file_content_api_backtest_html_files__strategy___filename__get",
        "parameters": [
          {
            "name": "strategy",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Strategy"
            }
          },
          {
            "name": "filename",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Filename"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HtmlFileContentResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Backtest"
        ],
        "summary": "Delete Html File Endpoint",
        "description": "HTMLファイルを削除\n\nArgs:\n    strategy: 戦略名\n    filename: ファイル名",
        "operationId": "delete_html_file_endpoint_api_backtest_html_files__strategy___filename__delete",
        "parameters": [
          {
            "name": "strategy",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Strategy"
            }
          },
          {
            "name": "filename",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Filename"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HtmlFileDeleteResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/backtest/html-files/{strategy}/{filename}/rename": {
      "post": {
        "tags": [
          "Backtest"
        ],
        "summary": "Rename Html File Endpoint",
        "description": "HTMLファイルをリネーム\n\nArgs:\n    strategy: 戦略名\n    filename: 現在のファイル名\n    request: リネームリクエスト（新しいファイル名）",
        "operationId": "rename_html_file_endpoint_api_backtest_html_files__strategy___filename__rename_post",
        "parameters": [
          {
            "name": "strategy",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Strategy"
            }
          },
          {
            "name": "filename",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Filename"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/HtmlFileRenameRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HtmlFileRenameResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/backtest/jobs/{job_id}/stream": {
      "get": {
        "tags": [
          "Backtest"
        ],
        "summary": "Stream Job Events",
        "description": "ジョブの進捗をSSEでストリーミング\n\nArgs:\n    job_id: ジョブID",
        "operationId": "stream_job_events_api_backtest_jobs__job_id__stream_get",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/optimize/run": {
      "post": {
        "tags": [
          "Optimization"
        ],
        "summary": "Run Optimization",
        "description": "パラメータ最適化を実行",
        "operationId": "run_optimization_api_optimize_run_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OptimizationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OptimizationJobResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/optimize/jobs/{job_id}": {
      "get": {
        "tags": [
          "Optimization"
        ],
        "summary": "Get Optimization Status",
        "description": "最適化ジョブのステータスを取得",
        "operationId": "get_optimization_status_api_optimize_jobs__job_id__get",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OptimizationJobResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/optimize/jobs/{job_id}/stream": {
      "get": {
        "tags": [
          "Optimization"
        ],
        "summary": "Stream Optimization Events",
        "description": "最適化ジョブの進捗をSSEでストリーミング\n\nArgs:\n    job_id: ジョブID",
        "operationId": "stream_optimization_events_api_optimize_jobs__job_id__stream_get",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/optimize/grid-configs": {
      "get": {
        "tags": [
          "Optimization"
        ],
        "summary": "List Grid Configs",
        "description": "Grid設定一覧を取得",
        "operationId": "list_grid_configs_api_optimize_grid_configs_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OptimizationGridListResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/optimize/grid-configs/{strategy}": {
      "get": {
        "tags": [
          "Optimization"
        ],
        "summary": "Get Grid Config",
        "description": "Grid設定を取得",
        "operationId": "get_grid_config_api_optimize_grid_configs__strategy__get",
        "parameters": [
          {
            "name": "strategy",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Strategy"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OptimizationGridConfig"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Optimization"
        ],
        "summary": "Save Grid Config",
        "description": "Grid設定を保存",
        "operationId": "save_grid_config_api_optimize_grid_configs__strategy__put",
        "parameters": [
          {
            "name": "strategy",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Strategy"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OptimizationGridSaveRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OptimizationGridSaveResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Optimization"
        ],
        "summary": "Delete Grid Config",
        "description": "Grid設定を削除",
        "operationId": "delete_grid_config_api_optimize_grid_configs__strategy__delete",
        "parameters": [
          {
            "name": "strategy",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Strategy"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OptimizationGridDeleteResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/optimize/html-files": {
      "get": {
        "tags": [
          "Optimization"
        ],
        "summary": "List Optimization Html Files",
        "description": "最適化結果HTMLファイル一覧を取得",
        "operationId": "list_optimization_html_files_api_optimize_html_files_get",
        "parameters": [
          {
            "name": "strategy",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Strategy"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OptimizationHtmlFileListResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/optimize/html-files/{strategy}/{filename}": {
      "get": {
        "tags": [
          "Optimization"
        ],
        "summary": "Get Optimization Html File Content",
        "description": "最適化結果HTMLファイルのコンテンツを取得",
        "operationId": "get_optimization_html_file_content_api_optimize_html_files__strategy___filename__get",
        "parameters": [
          {
            "name": "strategy",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Strategy"
            }
          },
          {
            "name": "filename",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Filename"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OptimizationHtmlFileContentResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Optimization"
        ],
        "summary": "Delete Optimization Html File",
        "description": "最適化結果HTMLファイルを削除\n\nArgs:\n    strategy: 戦略名\n    filename: ファイル名",
        "operationId": "delete_optimization_html_file_api_optimize_html_files__strategy___filename__delete",
        "parameters": [
          {
            "name": "strategy",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Strategy"
            }
          },
          {
            "name": "filename",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Filename"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HtmlFileDeleteResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/optimize/html-files/{strategy}/{filename}/rename": {
      "post": {
        "tags": [
          "Optimization"
        ],
        "summary": "Rename Optimization Html File",
        "description": "最適化結果HTMLファイルをリネーム\n\nArgs:\n    strategy: 戦略名\n    filename: 現在のファイル名\n    request: リネームリクエスト（新しいファイル名）",
        "operationId": "rename_optimization_html_file_api_optimize_html_files__strategy___filename__rename_post",
        "parameters": [
          {
            "name": "strategy",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Strategy"
            }
          },
          {
            "name": "filename",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Filename"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/HtmlFileRenameRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HtmlFileRenameResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/signals/reference": {
      "get": {
        "tags": [
          "Signals"
        ],
        "summary": "Get Signal Reference",
        "description": "シグナルリファレンスデータを取得",
        "operationId": "get_signal_reference_api_signals_reference_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SignalReferenceResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/signals/schema": {
      "get": {
        "tags": [
          "Signals"
        ],
        "summary": "Get Signal Schema",
        "description": "SignalParams の JSON Schema を返却\n\nPydanticモデル変更が自動的にスキーマに反映される。",
        "operationId": "get_signal_schema_api_signals_schema_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Get Signal Schema Api Signals Schema Get"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/signals/compute": {
      "post": {
        "tags": [
          "Signals"
        ],
        "summary": "Compute Signals",
        "description": "シグナル計算を実行し、発火日を返却\n\nPhase 1: OHLCV系シグナルのみ対応\n- oscillator: rsi_threshold, rsi_spread\n- breakout: period_breakout, ma_breakout, atr_support_break, retracement,\n            mean_reversion, crossover, buy_and_hold\n- volatility: bollinger_bands\n- volume: volume, trading_value, trading_value_range\n\nExample request:\n```json\n{\n    \"stock_code\": \"7203\",\n    \"source\": \"market\",\n    \"timeframe\": \"daily\",\n    \"signals\": [\n        {\"type\": \"rsi_threshold\", \"params\": {\"threshold\": 30}, \"mode\": \"entry\"},\n        {\"type\": \"period_breakout\", \"params\": {\"period\": 20}, \"mode\": \"entry\"}\n    ]\n}\n```\n\nExample response:\n```json\n{\n    \"stock_code\": \"7203\",\n    \"timeframe\": \"daily\",\n    \"signals\": {\n        \"rsi_threshold\": {\"trigger_dates\": [\"2025-01-15\"], \"count\": 1},\n        \"period_breakout\": {\"trigger_dates\": [\"2025-02-01\"], \"count\": 1}\n    }\n}\n```",
        "operationId": "compute_signals_api_signals_compute_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SignalComputeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SignalComputeResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/lab/generate": {
      "post": {
        "tags": [
          "Lab"
        ],
        "summary": "Run Lab Generate",
        "description": "戦略自動生成ジョブをサブミット",
        "operationId": "run_lab_generate_api_lab_generate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LabGenerateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LabJobResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/lab/evolve": {
      "post": {
        "tags": [
          "Lab"
        ],
        "summary": "Run Lab Evolve",
        "description": "GA進化ジョブをサブミット",
        "operationId": "run_lab_evolve_api_lab_evolve_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LabEvolveRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LabJobResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/lab/optimize": {
      "post": {
        "tags": [
          "Lab"
        ],
        "summary": "Run Lab Optimize",
        "description": "Optuna最適化ジョブをサブミット",
        "operationId": "run_lab_optimize_api_lab_optimize_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LabOptimizeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LabJobResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/lab/improve": {
      "post": {
        "tags": [
          "Lab"
        ],
        "summary": "Run Lab Improve",
        "description": "戦略改善ジョブをサブミット",
        "operationId": "run_lab_improve_api_lab_improve_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LabImproveRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LabJobResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/lab/jobs/{job_id}": {
      "get": {
        "tags": [
          "Lab"
        ],
        "summary": "Get Lab Job Status",
        "description": "Labジョブのステータスを取得",
        "operationId": "get_lab_job_status_api_lab_jobs__job_id__get",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LabJobResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/lab/jobs/{job_id}/stream": {
      "get": {
        "tags": [
          "Lab"
        ],
        "summary": "Stream Lab Job Events",
        "description": "LabジョブのSSEストリーミング",
        "operationId": "stream_lab_job_events_api_lab_jobs__job_id__stream_get",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/lab/jobs/{job_id}/cancel": {
      "post": {
        "tags": [
          "Lab"
        ],
        "summary": "Cancel Lab Job",
        "description": "Labジョブをキャンセル",
        "operationId": "cancel_lab_job_api_lab_jobs__job_id__cancel_post",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LabJobResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/indicators/compute": {
      "post": {
        "tags": [
          "Indicators"
        ],
        "summary": "Compute Indicators",
        "description": "複数インジケーターを一括計算\n\noutput='ohlcv'の場合、インジケーター計算をスキップし、\n変換後のOHLCVのみを返却する。",
        "operationId": "compute_indicators_api_indicators_compute_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IndicatorComputeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IndicatorComputeResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/indicators/margin": {
      "post": {
        "tags": [
          "Indicators"
        ],
        "summary": "Compute Margin Indicators",
        "description": "信用指標を計算",
        "operationId": "compute_margin_indicators_api_indicators_margin_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MarginIndicatorRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MarginIndicatorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/ohlcv/resample": {
      "post": {
        "tags": [
          "OHLCV"
        ],
        "summary": "OHLCVデータのTimeframe変換",
        "description": "OHLCVデータを指定したTimeframe（週足/月足）に変換します。\n\n**機能**:\n- 日足→週足/月足のリサンプル\n- 相対OHLC（ベンチマーク比較）変換（オプション）\n\n**仕様**: docs/spec-timeframe-resample.md を参照\n\n**計算順序**: Relative OHLC計算 → Timeframe Resample\n\n**集約ルール**:\n- Open: first（期間最初の始値）\n- High: max（期間中の最高値）\n- Low: min（期間中の最安値）\n- Close: last（期間最後の終値）\n- Volume: sum（期間の出来高合計）",
        "operationId": "resample_ohlcv_api_ohlcv_resample_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OHLCVResampleRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OHLCVResampleResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/fundamentals/compute": {
      "post": {
        "tags": [
          "Fundamentals"
        ],
        "summary": "Compute fundamental metrics for a stock",
        "description": "Compute fundamental analysis metrics for a stock symbol.\n\n**Calculated Metrics** (17 types):\n- **Valuation**: PER, PBR\n- **Profitability**: ROE, ROA, Operating Margin, Net Margin\n- **Per-share**: EPS, BPS, Diluted EPS\n- **FCF**: FCF, FCF Yield, FCF Margin\n- **Time-series**: Daily PER/PBR valuation\n- **Forecast**: Forecast EPS, Forecast Change Rate\n\n**Data Sources**:\n- Financial statements: JQuants API via apps/ts/api proxy\n- Stock prices: market.db via apps/ts/api proxy\n\n**Response includes**:\n- `data`: Array of fundamental data points sorted by date (descending)\n- `latestMetrics`: Latest metrics with daily valuation applied\n- `dailyValuation`: Daily PER/PBR time-series for charting",
        "operationId": "compute_fundamentals_api_fundamentals_compute_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FundamentalsComputeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FundamentalsComputeResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/jquants/auth/status": {
      "get": {
        "tags": [
          "JQuants Proxy"
        ],
        "summary": "Get Auth Status",
        "description": "JQuants API v2 認証ステータスを取得",
        "operationId": "get_auth_status_api_jquants_auth_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/jquants/daily-quotes": {
      "get": {
        "tags": [
          "JQuants Proxy"
        ],
        "summary": "Get Daily Quotes",
        "description": "日足クォートデータを取得（JQuants 生フォーマット）",
        "operationId": "get_daily_quotes_api_jquants_daily_quotes_get",
        "parameters": [
          {
            "name": "code",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Stock code",
              "title": "Code"
            },
            "description": "Stock code"
          },
          {
            "name": "from",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Start date (YYYY-MM-DD)",
              "title": "From"
            },
            "description": "Start date (YYYY-MM-DD)"
          },
          {
            "name": "to",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "End date (YYYY-MM-DD)",
              "title": "To"
            },
            "description": "End date (YYYY-MM-DD)"
          },
          {
            "name": "date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Specific date (YYYY-MM-DD)",
              "title": "Date"
            },
            "description": "Specific date (YYYY-MM-DD)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DailyQuotesResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/jquants/indices": {
      "get": {
        "tags": [
          "JQuants Proxy"
        ],
        "summary": "Get Indices",
        "description": "指数データを取得",
        "operationId": "get_indices_api_jquants_indices_get",
        "parameters": [
          {
            "name": "code",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Index code (e.g., 0000 for Nikkei 225)",
              "title": "Code"
            },
            "description": "Index code (e.g., 0000 for Nikkei 225)"
          },
          {
            "name": "from",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Start date (YYYY-MM-DD)",
              "title": "From"
            },
            "description": "Start date (YYYY-MM-DD)"
          },
          {
            "name": "to",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "End date (YYYY-MM-DD)",
              "title": "To"
            },
            "description": "End date (YYYY-MM-DD)"
          },
          {
            "name": "date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Specific date (YYYY-MM-DD)",
              "title": "Date"
            },
            "description": "Specific date (YYYY-MM-DD)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiIndicesResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/jquants/listed-info": {
      "get": {
        "tags": [
          "JQuants Proxy"
        ],
        "summary": "Get Listed Info",
        "description": "上場銘柄情報を取得",
        "operationId": "get_listed_info_api_jquants_listed_info_get",
        "parameters": [
          {
            "name": "code",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "minLength": 4,
                  "maxLength": 4
                },
                {
                  "type": "null"
                }
              ],
              "description": "Stock code (4 characters)",
              "title": "Code"
            },
            "description": "Stock code (4 characters)"
          },
          {
            "name": "date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Date (YYYY-MM-DD)",
              "title": "Date"
            },
            "description": "Date (YYYY-MM-DD)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiListedInfoResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/jquants/stocks/{symbol}/margin-interest": {
      "get": {
        "tags": [
          "JQuants Proxy"
        ],
        "summary": "Get Margin Interest",
        "description": "週次信用取引データを取得",
        "operationId": "get_margin_interest_api_jquants_stocks__symbol__margin_interest_get",
        "parameters": [
          {
            "name": "symbol",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Symbol"
            }
          },
          {
            "name": "from",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Start date (YYYY-MM-DD)",
              "title": "From"
            },
            "description": "Start date (YYYY-MM-DD)"
          },
          {
            "name": "to",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "End date (YYYY-MM-DD)",
              "title": "To"
            },
            "description": "End date (YYYY-MM-DD)"
          },
          {
            "name": "date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Specific date (YYYY-MM-DD)",
              "title": "Date"
            },
            "description": "Specific date (YYYY-MM-DD)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiMarginInterestResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/jquants/statements": {
      "get": {
        "tags": [
          "JQuants Proxy"
        ],
        "summary": "Get Statements",
        "description": "財務諸表データを取得（EPS サブセット）",
        "operationId": "get_statements_api_jquants_statements_get",
        "parameters": [
          {
            "name": "code",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Stock code (4-5 digits)",
              "title": "Code"
            },
            "description": "Stock code (4-5 digits)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatementsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/jquants/statements/raw": {
      "get": {
        "tags": [
          "JQuants Proxy"
        ],
        "summary": "Get Statements Raw",
        "description": "財務諸表データを取得（完全版）",
        "operationId": "get_statements_raw_api_jquants_statements_raw_get",
        "parameters": [
          {
            "name": "code",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Stock code (4-5 digits)",
              "title": "Code"
            },
            "description": "Stock code (4-5 digits)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RawStatementsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/jquants/topix": {
      "get": {
        "tags": [
          "JQuants Proxy"
        ],
        "summary": "Get Topix",
        "description": "TOPIX 指数データを取得（生フォーマット）",
        "operationId": "get_topix_api_jquants_topix_get",
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Start date (YYYY-MM-DD)",
              "title": "From"
            },
            "description": "Start date (YYYY-MM-DD)"
          },
          {
            "name": "to",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "End date (YYYY-MM-DD)",
              "title": "To"
            },
            "description": "End date (YYYY-MM-DD)"
          },
          {
            "name": "date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Specific date (YYYY-MM-DD)",
              "title": "Date"
            },
            "description": "Specific date (YYYY-MM-DD)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TopixRawResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/analytics/roe": {
      "get": {
        "tags": [
          "Analytics"
        ],
        "summary": "Get Roe",
        "description": "ROE (自己資本利益率) を計算",
        "operationId": "get_roe_api_analytics_roe_get",
        "parameters": [
          {
            "name": "code",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Stock codes (comma-separated)",
              "title": "Code"
            },
            "description": "Stock codes (comma-separated)"
          },
          {
            "name": "date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Specific date (YYYYMMDD or YYYY-MM-DD)",
              "title": "Date"
            },
            "description": "Specific date (YYYYMMDD or YYYY-MM-DD)"
          },
          {
            "name": "annualize",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Annualize quarterly data",
              "default": "true",
              "title": "Annualize"
            },
            "description": "Annualize quarterly data"
          },
          {
            "name": "preferConsolidated",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Prefer consolidated data",
              "default": "true",
              "title": "Preferconsolidated"
            },
            "description": "Prefer consolidated data"
          },
          {
            "name": "minEquity",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Minimum equity threshold (millions)",
              "default": "1000",
              "title": "Minequity"
            },
            "description": "Minimum equity threshold (millions)"
          },
          {
            "name": "sortBy",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Sort by (roe, code, date)",
              "default": "roe",
              "title": "Sortby"
            },
            "description": "Sort by (roe, code, date)"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Max results",
              "default": "50",
              "title": "Limit"
            },
            "description": "Max results"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ROEResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/analytics/stocks/{symbol}/margin-pressure": {
      "get": {
        "tags": [
          "Analytics"
        ],
        "summary": "Get Margin Pressure",
        "description": "マージンプレッシャー指標を取得",
        "operationId": "get_margin_pressure_api_analytics_stocks__symbol__margin_pressure_get",
        "parameters": [
          {
            "name": "symbol",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Symbol"
            }
          },
          {
            "name": "period",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 60,
              "minimum": 5,
              "description": "Rolling average period in days",
              "default": 15,
              "title": "Period"
            },
            "description": "Rolling average period in days"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MarginPressureIndicatorsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/analytics/stocks/{symbol}/margin-ratio": {
      "get": {
        "tags": [
          "Analytics"
        ],
        "summary": "Get Margin Ratio",
        "description": "マージン出来高比率を取得",
        "operationId": "get_margin_ratio_api_analytics_stocks__symbol__margin_ratio_get",
        "parameters": [
          {
            "name": "symbol",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Symbol"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MarginVolumeRatioResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/market/stocks": {
      "get": {
        "tags": [
          "Market Data"
        ],
        "summary": "全銘柄データ取得（スクリーニング用）",
        "operationId": "get_all_stocks_api_market_stocks_get",
        "parameters": [
          {
            "name": "market",
            "in": "query",
            "required": false,
            "schema": {
              "enum": [
                "prime",
                "standard"
              ],
              "type": "string",
              "description": "市場コード",
              "default": "prime",
              "title": "Market"
            },
            "description": "市場コード"
          },
          {
            "name": "history_days",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "履歴日数",
              "default": 300,
              "title": "History Days"
            },
            "description": "履歴日数"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MarketStockData"
                  },
                  "title": "Response Get All Stocks Api Market Stocks Get"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/market/stocks/{code}": {
      "get": {
        "tags": [
          "Market Data"
        ],
        "summary": "単一銘柄情報取得",
        "operationId": "get_stock_info_api_market_stocks__code__get",
        "parameters": [
          {
            "name": "code",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Code"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StockInfo"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/market/stocks/{code}/ohlcv": {
      "get": {
        "tags": [
          "Market Data"
        ],
        "summary": "銘柄 OHLCV データ取得",
        "operationId": "get_stock_ohlcv_api_market_stocks__code__ohlcv_get",
        "parameters": [
          {
            "name": "code",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Code"
            }
          },
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "開始日 (YYYY-MM-DD)",
              "title": "Start Date"
            },
            "description": "開始日 (YYYY-MM-DD)"
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "終了日 (YYYY-MM-DD)",
              "title": "End Date"
            },
            "description": "終了日 (YYYY-MM-DD)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MarketOHLCVRecord"
                  },
                  "title": "Response Get Stock Ohlcv Api Market Stocks  Code  Ohlcv Get"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/market/topix": {
      "get": {
        "tags": [
          "Market Data"
        ],
        "summary": "TOPIX データ取得",
        "operationId": "get_topix_api_market_topix_get",
        "parameters": [
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "開始日 (YYYY-MM-DD)",
              "title": "Start Date"
            },
            "description": "開始日 (YYYY-MM-DD)"
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "終了日 (YYYY-MM-DD)",
              "title": "End Date"
            },
            "description": "終了日 (YYYY-MM-DD)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MarketOHLCRecord"
                  },
                  "title": "Response Get Topix Api Market Topix Get"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/chart/indices": {
      "get": {
        "tags": [
          "Chart"
        ],
        "summary": "指数一覧取得",
        "operationId": "get_indices_list_api_chart_indices_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IndicesListResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/chart/indices/topix": {
      "get": {
        "tags": [
          "Chart"
        ],
        "summary": "TOPIX チャートデータ取得",
        "operationId": "get_topix_data_api_chart_indices_topix_get",
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "開始日 (YYYY-MM-DD)",
              "title": "From"
            },
            "description": "開始日 (YYYY-MM-DD)"
          },
          {
            "name": "to",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "終了日 (YYYY-MM-DD)",
              "title": "To"
            },
            "description": "終了日 (YYYY-MM-DD)"
          },
          {
            "name": "date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "特定日 (YYYY-MM-DD)",
              "title": "Date"
            },
            "description": "特定日 (YYYY-MM-DD)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TopixDataResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/chart/indices/{code}": {
      "get": {
        "tags": [
          "Chart"
        ],
        "summary": "指数チャートデータ取得",
        "operationId": "get_index_data_api_chart_indices__code__get",
        "parameters": [
          {
            "name": "code",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Code"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IndexDataResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/chart/stocks/search": {
      "get": {
        "tags": [
          "Chart"
        ],
        "summary": "銘柄検索",
        "operationId": "search_stocks_api_chart_stocks_search_get",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 100,
              "description": "検索クエリ",
              "title": "Q"
            },
            "description": "検索クエリ"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "最大件数",
              "default": 20,
              "title": "Limit"
            },
            "description": "最大件数"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StockSearchResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/chart/stocks/{symbol}": {
      "get": {
        "tags": [
          "Chart"
        ],
        "summary": "銘柄チャートデータ取得",
        "operationId": "get_stock_data_api_chart_stocks__symbol__get",
        "parameters": [
          {
            "name": "symbol",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Symbol"
            }
          },
          {
            "name": "timeframe",
            "in": "query",
            "required": false,
            "schema": {
              "enum": [
                "daily",
                "weekly",
                "monthly"
              ],
              "type": "string",
              "default": "daily",
              "title": "Timeframe"
            }
          },
          {
            "name": "adjusted",
            "in": "query",
            "required": false,
            "schema": {
              "enum": [
                "true",
                "false"
              ],
              "type": "string",
              "default": "true",
              "title": "Adjusted"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StockDataResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/analytics/sector-stocks": {
      "get": {
        "tags": [
          "Chart"
        ],
        "summary": "セクター別銘柄データ取得",
        "operationId": "get_sector_stocks_api_analytics_sector_stocks_get",
        "parameters": [
          {
            "name": "sector33Name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "33業種名",
              "title": "Sector33Name"
            },
            "description": "33業種名"
          },
          {
            "name": "sector17Name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "17業種名",
              "title": "Sector17Name"
            },
            "description": "17業種名"
          },
          {
            "name": "markets",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "市場フィルタ",
              "default": "prime,standard",
              "title": "Markets"
            },
            "description": "市場フィルタ"
          },
          {
            "name": "lookbackDays",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "振り返り日数",
              "default": 5,
              "title": "Lookbackdays"
            },
            "description": "振り返り日数"
          },
          {
            "name": "sortBy",
            "in": "query",
            "required": false,
            "schema": {
              "enum": [
                "tradingValue",
                "changePercentage",
                "code"
              ],
              "type": "string",
              "default": "tradingValue",
              "title": "Sortby"
            }
          },
          {
            "name": "sortOrder",
            "in": "query",
            "required": false,
            "schema": {
              "enum": [
                "asc",
                "desc"
              ],
              "type": "string",
              "default": "desc",
              "title": "Sortorder"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 500,
              "minimum": 1,
              "description": "最大件数",
              "default": 100,
              "title": "Limit"
            },
            "description": "最大件数"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SectorStocksResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/analytics/ranking": {
      "get": {
        "tags": [
          "Analytics"
        ],
        "summary": "Get market rankings",
        "description": "Get market rankings including top stocks by trading value, price gainers, and price losers.",
        "operationId": "get_ranking_api_analytics_ranking_get",
        "parameters": [
          {
            "name": "date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "pattern": "^\\d{4}-\\d{2}-\\d{2}$"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Date"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "markets",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "prime",
              "title": "Markets"
            }
          },
          {
            "name": "lookbackDays",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 1,
              "title": "Lookbackdays"
            }
          },
          {
            "name": "periodDays",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 250,
              "minimum": 1,
              "default": 250,
              "title": "Perioddays"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MarketRankingResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/analytics/factor-regression/{symbol}": {
      "get": {
        "tags": [
          "Analytics"
        ],
        "summary": "Analyze stock factor regression",
        "description": "Two-stage factor regression analysis for risk decomposition.",
        "operationId": "get_factor_regression_api_analytics_factor_regression__symbol__get",
        "parameters": [
          {
            "name": "symbol",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Symbol"
            }
          },
          {
            "name": "lookbackDays",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 60,
              "default": 252,
              "title": "Lookbackdays"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FactorRegressionResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/analytics/screening": {
      "get": {
        "tags": [
          "Analytics"
        ],
        "summary": "Run stock screening",
        "description": "Run stock screening analysis with Range Break Fast and Slow strategies.",
        "operationId": "get_screening_api_analytics_screening_get",
        "parameters": [
          {
            "name": "markets",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "prime",
              "title": "Markets"
            }
          },
          {
            "name": "rangeBreakFast",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true,
              "title": "Rangebreakfast"
            }
          },
          {
            "name": "rangeBreakSlow",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true,
              "title": "Rangebreakslow"
            }
          },
          {
            "name": "recentDays",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 90,
              "minimum": 1,
              "default": 10,
              "title": "Recentdays"
            }
          },
          {
            "name": "date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "pattern": "^\\d{4}-\\d{2}-\\d{2}$"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Date"
            }
          },
          {
            "name": "minBreakPercentage",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Minbreakpercentage"
            }
          },
          {
            "name": "minVolumeRatio",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Minvolumeratio"
            }
          },
          {
            "name": "sortBy",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "pattern": "^(date|stockCode|volumeRatio|breakPercentage)$",
              "default": "date",
              "title": "Sortby"
            }
          },
          {
            "name": "order",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "pattern": "^(asc|desc)$",
              "default": "desc",
              "title": "Order"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "minimum": 1
                },
                {
                  "type": "null"
                }
              ],
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MarketScreeningResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ApiIndex": {
        "properties": {
          "date": {
            "type": "string",
            "title": "Date",
            "description": "日付 (YYYY-MM-DD)"
          },
          "code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Code"
          },
          "open": {
            "type": "number",
            "exclusiveMinimum": 0,
            "title": "Open"
          },
          "high": {
            "type": "number",
            "exclusiveMinimum": 0,
            "title": "High"
          },
          "low": {
            "type": "number",
            "exclusiveMinimum": 0,
            "title": "Low"
          },
          "close": {
            "type": "number",
            "exclusiveMinimum": 0,
            "title": "Close"
          }
        },
        "type": "object",
        "required": [
          "date",
          "open",
          "high",
          "low",
          "close"
        ],
        "title": "ApiIndex",
        "description": "指数データポイント"
      },
      "ApiIndicesResponse": {
        "properties": {
          "indices": {
            "items": {
              "$ref": "#/components/schemas/ApiIndex"
            },
            "type": "array",
            "title": "Indices"
          },
          "lastUpdated": {
            "type": "string",
            "title": "Lastupdated",
            "description": "最終更新日時 (ISO 8601)"
          }
        },
        "type": "object",
        "required": [
          "indices",
          "lastUpdated"
        ],
        "title": "ApiIndicesResponse",
        "description": "指数データレスポンス"
      },
      "ApiListedInfo": {
        "properties": {
          "code": {
            "type": "string",
            "maxLength": 4,
            "minLength": 4,
            "title": "Code"
          },
          "companyName": {
            "type": "string",
            "title": "Companyname"
          },
          "companyNameEnglish": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Companynameenglish"
          },
          "marketCode": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Marketcode"
          },
          "marketCodeName": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Marketcodename"
          },
          "sector33Code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sector33Code"
          },
          "sector33CodeName": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sector33Codename"
          },
          "scaleCategory": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scalecategory"
          }
        },
        "type": "object",
        "required": [
          "code",
          "companyName"
        ],
        "title": "ApiListedInfo",
        "description": "上場銘柄情報"
      },
      "ApiListedInfoResponse": {
        "properties": {
          "info": {
            "items": {
              "$ref": "#/components/schemas/ApiListedInfo"
            },
            "type": "array",
            "title": "Info"
          },
          "lastUpdated": {
            "type": "string",
            "title": "Lastupdated",
            "description": "最終更新日時 (ISO 8601)"
          }
        },
        "type": "object",
        "required": [
          "info",
          "lastUpdated"
        ],
        "title": "ApiListedInfoResponse",
        "description": "上場銘柄情報レスポンス"
      },
      "ApiMarginInterest": {
        "properties": {
          "date": {
            "type": "string",
            "title": "Date",
            "description": "日付 (YYYY-MM-DD)"
          },
          "code": {
            "type": "string",
            "maxLength": 4,
            "minLength": 4,
            "title": "Code"
          },
          "shortMarginTradeVolume": {
            "type": "number",
            "minimum": 0,
            "title": "Shortmargintradevolume"
          },
          "longMarginTradeVolume": {
            "type": "number",
            "minimum": 0,
            "title": "Longmargintradevolume"
          },
          "shortMarginOutstandingBalance": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0
              },
              {
                "type": "null"
              }
            ],
            "title": "Shortmarginoutstandingbalance"
          },
          "longMarginOutstandingBalance": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0
              },
              {
                "type": "null"
              }
            ],
            "title": "Longmarginoutstandingbalance"
          }
        },
        "type": "object",
        "required": [
          "date",
          "code",
          "shortMarginTradeVolume",
          "longMarginTradeVolume"
        ],
        "title": "ApiMarginInterest",
        "description": "週次信用取引データポイント"
      },
      "ApiMarginInterestResponse": {
        "properties": {
          "marginInterest": {
            "items": {
              "$ref": "#/components/schemas/ApiMarginInterest"
            },
            "type": "array",
            "title": "Margininterest"
          },
          "symbol": {
            "type": "string",
            "maxLength": 4,
            "minLength": 4,
            "title": "Symbol"
          },
          "lastUpdated": {
            "type": "string",
            "title": "Lastupdated",
            "description": "最終更新日時 (ISO 8601)"
          }
        },
        "type": "object",
        "required": [
          "marginInterest",
          "symbol",
          "lastUpdated"
        ],
        "title": "ApiMarginInterestResponse",
        "description": "週次信用取引データレスポンス"
      },
      "AuthStatusResponse": {
        "properties": {
          "authenticated": {
            "type": "boolean",
            "title": "Authenticated",
            "description": "API キーが設定されているか"
          },
          "hasApiKey": {
            "type": "boolean",
            "title": "Hasapikey",
            "description": "API キーが設定されているか"
          }
        },
        "type": "object",
        "required": [
          "authenticated",
          "hasApiKey"
        ],
        "title": "AuthStatusResponse",
        "description": "JQuants API v2 認証ステータス"
      },
      "BacktestJobResponse": {
        "properties": {
          "job_id": {
            "type": "string",
            "title": "Job Id",
            "description": "ジョブID"
          },
          "status": {
            "$ref": "#/components/schemas/JobStatus"
          },
          "progress": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Progress",
            "description": "進捗（0.0 - 1.0）"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message",
            "description": "ステータスメッセージ"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "作成日時"
          },
          "started_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At",
            "description": "開始日時"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At",
            "description": "完了日時"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "エラーメッセージ"
          },
          "result": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/BacktestResultSummary"
              },
              {
                "type": "null"
              }
            ],
            "description": "結果サマリー（完了時のみ）"
          }
        },
        "type": "object",
        "required": [
          "job_id",
          "status",
          "created_at"
        ],
        "title": "BacktestJobResponse",
        "description": "バックテストジョブレスポンス"
      },
      "BacktestRequest": {
        "properties": {
          "strategy_name": {
            "type": "string",
            "minLength": 1,
            "title": "Strategy Name",
            "description": "戦略名（例: 'range_break_v5', 'production/range_break_v5'）"
          },
          "strategy_config_override": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Strategy Config Override",
            "description": "戦略設定のオーバーライド（オプション）"
          }
        },
        "type": "object",
        "required": [
          "strategy_name"
        ],
        "title": "BacktestRequest",
        "description": "バックテスト実行リクエスト"
      },
      "BacktestResultResponse": {
        "properties": {
          "job_id": {
            "type": "string",
            "title": "Job Id",
            "description": "ジョブID"
          },
          "strategy_name": {
            "type": "string",
            "title": "Strategy Name",
            "description": "戦略名"
          },
          "dataset_name": {
            "type": "string",
            "title": "Dataset Name",
            "description": "データセット名"
          },
          "summary": {
            "$ref": "#/components/schemas/BacktestResultSummary",
            "description": "結果サマリー"
          },
          "execution_time": {
            "type": "number",
            "title": "Execution Time",
            "description": "実行時間（秒）"
          },
          "html_content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Html Content",
            "description": "HTMLコンテンツ（base64エンコード）"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "作成日時"
          }
        },
        "type": "object",
        "required": [
          "job_id",
          "strategy_name",
          "dataset_name",
          "summary",
          "execution_time",
          "created_at"
        ],
        "title": "BacktestResultResponse",
        "description": "バックテスト結果レスポンス（詳細）"
      },
      "BacktestResultSummary": {
        "properties": {
          "total_return": {
            "type": "number",
            "title": "Total Return",
            "description": "トータルリターン (%)"
          },
          "sharpe_ratio": {
            "type": "number",
            "title": "Sharpe Ratio",
            "description": "シャープレシオ"
          },
          "calmar_ratio": {
            "type": "number",
            "title": "Calmar Ratio",
            "description": "カルマーレシオ"
          },
          "max_drawdown": {
            "type": "number",
            "title": "Max Drawdown",
            "description": "最大ドローダウン (%)"
          },
          "win_rate": {
            "type": "number",
            "title": "Win Rate",
            "description": "勝率 (%)"
          },
          "trade_count": {
            "type": "integer",
            "title": "Trade Count",
            "description": "取引回数"
          },
          "html_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Html Path",
            "description": "結果HTMLファイルのパス"
          }
        },
        "type": "object",
        "required": [
          "total_return",
          "sharpe_ratio",
          "calmar_ratio",
          "max_drawdown",
          "win_rate",
          "trade_count"
        ],
        "title": "BacktestResultSummary",
        "description": "バックテスト結果サマリー"
      },
      "DailyQuoteItem": {
        "properties": {
          "Date": {
            "type": "string",
            "title": "Date"
          },
          "Code": {
            "type": "string",
            "title": "Code"
          },
          "O": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "O"
          },
          "H": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "H"
          },
          "L": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "L"
          },
          "C": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "C"
          },
          "UL": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ul"
          },
          "LL": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ll"
          },
          "Vo": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Vo"
          },
          "Va": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Va"
          },
          "AdjFactor": {
            "type": "number",
            "title": "Adjfactor"
          },
          "AdjO": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Adjo"
          },
          "AdjH": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Adjh"
          },
          "AdjL": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Adjl"
          },
          "AdjC": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Adjc"
          },
          "AdjVo": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Adjvo"
          }
        },
        "type": "object",
        "required": [
          "Date",
          "Code",
          "AdjFactor"
        ],
        "title": "DailyQuoteItem",
        "description": "日足クォートデータ（JQuants 生フォーマット）"
      },
      "DailyQuotesResponse": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/DailyQuoteItem"
            },
            "type": "array",
            "title": "Data"
          },
          "pagination_key": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pagination Key"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "DailyQuotesResponse",
        "description": "日足クォートレスポンス"
      },
      "DailyValuationDataPoint": {
        "properties": {
          "date": {
            "type": "string",
            "title": "Date",
            "description": "Date (YYYY-MM-DD)"
          },
          "close": {
            "type": "number",
            "title": "Close",
            "description": "Closing price"
          },
          "per": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Per",
            "description": "PER at this date"
          },
          "pbr": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pbr",
            "description": "PBR at this date"
          },
          "marketCap": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Marketcap",
            "description": "Market cap at this date (JPY)"
          }
        },
        "type": "object",
        "required": [
          "date",
          "close"
        ],
        "title": "DailyValuationDataPoint",
        "description": "Daily valuation data point."
      },
      "DateRange": {
        "properties": {
          "from": {
            "type": "string",
            "title": "From"
          },
          "to": {
            "type": "string",
            "title": "To"
          }
        },
        "type": "object",
        "required": [
          "from",
          "to"
        ],
        "title": "DateRange",
        "description": "分析期間"
      },
      "DefaultConfigResponse": {
        "properties": {
          "content": {
            "type": "string",
            "title": "Content",
            "description": "default.yamlの内容（YAML文字列）"
          }
        },
        "type": "object",
        "required": [
          "content"
        ],
        "title": "DefaultConfigResponse",
        "description": "デフォルト設定レスポンス（raw YAML文字列）"
      },
      "DefaultConfigUpdateRequest": {
        "properties": {
          "content": {
            "type": "string",
            "title": "Content",
            "description": "更新するYAML文字列"
          }
        },
        "type": "object",
        "required": [
          "content"
        ],
        "title": "DefaultConfigUpdateRequest",
        "description": "デフォルト設定更新リクエスト"
      },
      "DefaultConfigUpdateResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "更新成功フラグ"
          }
        },
        "type": "object",
        "required": [
          "success"
        ],
        "title": "DefaultConfigUpdateResponse",
        "description": "デフォルト設定更新レスポンス"
      },
      "EvolutionHistoryItem": {
        "properties": {
          "generation": {
            "type": "integer",
            "title": "Generation",
            "description": "世代番号"
          },
          "best_score": {
            "type": "number",
            "title": "Best Score",
            "description": "最良スコア"
          },
          "avg_score": {
            "type": "number",
            "title": "Avg Score",
            "description": "平均スコア"
          },
          "worst_score": {
            "type": "number",
            "title": "Worst Score",
            "description": "最悪スコア"
          }
        },
        "type": "object",
        "required": [
          "generation",
          "best_score",
          "avg_score",
          "worst_score"
        ],
        "title": "EvolutionHistoryItem",
        "description": "進化履歴アイテム"
      },
      "FactorRegressionResponse": {
        "properties": {
          "stockCode": {
            "type": "string",
            "title": "Stockcode"
          },
          "companyName": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Companyname"
          },
          "marketBeta": {
            "type": "number",
            "title": "Marketbeta"
          },
          "marketRSquared": {
            "type": "number",
            "title": "Marketrsquared"
          },
          "sector17Matches": {
            "items": {
              "$ref": "#/components/schemas/IndexMatch"
            },
            "type": "array",
            "title": "Sector17Matches"
          },
          "sector33Matches": {
            "items": {
              "$ref": "#/components/schemas/IndexMatch"
            },
            "type": "array",
            "title": "Sector33Matches"
          },
          "topixStyleMatches": {
            "items": {
              "$ref": "#/components/schemas/IndexMatch"
            },
            "type": "array",
            "title": "Topixstylematches"
          },
          "analysisDate": {
            "type": "string",
            "title": "Analysisdate"
          },
          "dataPoints": {
            "type": "integer",
            "title": "Datapoints"
          },
          "dateRange": {
            "$ref": "#/components/schemas/DateRange"
          }
        },
        "type": "object",
        "required": [
          "stockCode",
          "marketBeta",
          "marketRSquared",
          "sector17Matches",
          "sector33Matches",
          "topixStyleMatches",
          "analysisDate",
          "dataPoints",
          "dateRange"
        ],
        "title": "FactorRegressionResponse",
        "description": "ファクター回帰分析レスポンス"
      },
      "FieldConstraints": {
        "properties": {
          "gt": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Gt"
          },
          "ge": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ge"
          },
          "lt": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lt"
          },
          "le": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Le"
          }
        },
        "type": "object",
        "title": "FieldConstraints",
        "description": "フィールド制約情報"
      },
      "FundamentalDataPoint": {
        "properties": {
          "date": {
            "type": "string",
            "title": "Date",
            "description": "Period end date (YYYY-MM-DD)"
          },
          "disclosedDate": {
            "type": "string",
            "title": "Discloseddate",
            "description": "Disclosure date (YYYY-MM-DD)"
          },
          "periodType": {
            "type": "string",
            "title": "Periodtype",
            "description": "Period type (FY, 1Q, 2Q, 3Q)"
          },
          "isConsolidated": {
            "type": "boolean",
            "title": "Isconsolidated",
            "description": "Whether data is consolidated"
          },
          "accountingStandard": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Accountingstandard",
            "description": "Accounting standard (IFRS, US GAAP, JGAAP)"
          },
          "roe": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Roe",
            "description": "Return on Equity (%)"
          },
          "eps": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Eps",
            "description": "Earnings per share (JPY)"
          },
          "dilutedEps": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dilutedeps",
            "description": "Diluted EPS (JPY)"
          },
          "bps": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bps",
            "description": "Book value per share (JPY)"
          },
          "adjustedEps": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Adjustedeps",
            "description": "Adjusted EPS using share count (JPY)"
          },
          "adjustedForecastEps": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Adjustedforecasteps",
            "description": "Adjusted forecast EPS using share count (JPY)"
          },
          "adjustedBps": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Adjustedbps",
            "description": "Adjusted BPS using share count (JPY)"
          },
          "per": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Per",
            "description": "Price to earnings ratio"
          },
          "pbr": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pbr",
            "description": "Price to book ratio"
          },
          "roa": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Roa",
            "description": "Return on Assets (%)"
          },
          "operatingMargin": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Operatingmargin",
            "description": "Operating margin (%)"
          },
          "netMargin": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Netmargin",
            "description": "Net profit margin (%)"
          },
          "stockPrice": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Stockprice",
            "description": "Stock price at disclosure"
          },
          "netProfit": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Netprofit",
            "description": "Net profit (millions JPY)"
          },
          "equity": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Equity",
            "description": "Equity (millions JPY)"
          },
          "totalAssets": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Totalassets",
            "description": "Total assets (millions JPY)"
          },
          "netSales": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Netsales",
            "description": "Net sales (millions JPY)"
          },
          "operatingProfit": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Operatingprofit",
            "description": "Operating profit (millions JPY)"
          },
          "cashFlowOperating": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cashflowoperating",
            "description": "Cash flow from operating activities (millions JPY)"
          },
          "cashFlowInvesting": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cashflowinvesting",
            "description": "Cash flow from investing activities (millions JPY)"
          },
          "cashFlowFinancing": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cashflowfinancing",
            "description": "Cash flow from financing activities (millions JPY)"
          },
          "cashAndEquivalents": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cashandequivalents",
            "description": "Cash and equivalents (millions JPY)"
          },
          "fcf": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fcf",
            "description": "Free cash flow (millions JPY)"
          },
          "fcfYield": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fcfyield",
            "description": "FCF yield (%)"
          },
          "fcfMargin": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fcfmargin",
            "description": "FCF margin (%)"
          },
          "forecastEps": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Forecasteps",
            "description": "Forecast EPS (JPY)"
          },
          "forecastEpsChangeRate": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Forecastepschangerate",
            "description": "Forecast EPS change rate (%)"
          },
          "revisedForecastEps": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Revisedforecasteps",
            "description": "Revised forecast EPS from latest Q (JPY)"
          },
          "revisedForecastSource": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Revisedforecastsource",
            "description": "Source of revised forecast (1Q, 2Q, 3Q)"
          },
          "prevCashFlowOperating": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prevcashflowoperating",
            "description": "Previous period CFO (millions JPY)"
          },
          "prevCashFlowInvesting": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prevcashflowinvesting",
            "description": "Previous period CFI (millions JPY)"
          },
          "prevCashFlowFinancing": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prevcashflowfinancing",
            "description": "Previous period CFF (millions JPY)"
          },
          "prevCashAndEquivalents": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prevcashandequivalents",
            "description": "Previous period cash (millions JPY)"
          }
        },
        "type": "object",
        "required": [
          "date",
          "disclosedDate",
          "periodType",
          "isConsolidated"
        ],
        "title": "FundamentalDataPoint",
        "description": "Single fundamental data point."
      },
      "FundamentalsComputeRequest": {
        "properties": {
          "symbol": {
            "type": "string",
            "title": "Symbol",
            "description": "Stock code (4-5 digits)",
            "example": "7203"
          },
          "from_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "From Date",
            "description": "Start date (YYYY-MM-DD)",
            "example": "2020-01-01"
          },
          "to_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "To Date",
            "description": "End date (YYYY-MM-DD)",
            "example": "2025-12-31"
          },
          "period_type": {
            "type": "string",
            "enum": [
              "all",
              "FY",
              "1Q",
              "2Q",
              "3Q"
            ],
            "title": "Period Type",
            "description": "Filter by period type (FY, 1Q, 2Q, 3Q)",
            "default": "all"
          },
          "prefer_consolidated": {
            "type": "boolean",
            "title": "Prefer Consolidated",
            "description": "Prefer consolidated statements",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "symbol"
        ],
        "title": "FundamentalsComputeRequest",
        "description": "Request body for fundamentals computation."
      },
      "FundamentalsComputeResponse": {
        "properties": {
          "symbol": {
            "type": "string",
            "title": "Symbol",
            "description": "Stock code"
          },
          "companyName": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Companyname",
            "description": "Company name"
          },
          "data": {
            "items": {
              "$ref": "#/components/schemas/FundamentalDataPoint"
            },
            "type": "array",
            "title": "Data",
            "description": "Fundamental data points sorted by date descending"
          },
          "latestMetrics": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/FundamentalDataPoint"
              },
              {
                "type": "null"
              }
            ],
            "description": "Latest metrics with daily valuation"
          },
          "dailyValuation": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/DailyValuationDataPoint"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dailyvaluation",
            "description": "Daily PER/PBR time-series"
          },
          "lastUpdated": {
            "type": "string",
            "title": "Lastupdated",
            "description": "Last updated timestamp (ISO 8601)"
          }
        },
        "type": "object",
        "required": [
          "symbol",
          "data",
          "lastUpdated"
        ],
        "title": "FundamentalsComputeResponse",
        "description": "Response for fundamentals computation."
      },
      "FutureReturnPoint": {
        "properties": {
          "date": {
            "type": "string",
            "title": "Date"
          },
          "price": {
            "type": "number",
            "title": "Price"
          },
          "changePercent": {
            "type": "number",
            "title": "Changepercent"
          }
        },
        "type": "object",
        "required": [
          "date",
          "price",
          "changePercent"
        ],
        "title": "FutureReturnPoint",
        "description": "将来リターンの1データポイント"
      },
      "FutureReturns": {
        "properties": {
          "day5": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/FutureReturnPoint"
              },
              {
                "type": "null"
              }
            ]
          },
          "day20": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/FutureReturnPoint"
              },
              {
                "type": "null"
              }
            ]
          },
          "day60": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/FutureReturnPoint"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "title": "FutureReturns",
        "description": "将来リターン（履歴モード用）"
      },
      "GenerateResultItem": {
        "properties": {
          "strategy_id": {
            "type": "string",
            "title": "Strategy Id",
            "description": "戦略ID"
          },
          "score": {
            "type": "number",
            "title": "Score",
            "description": "評価スコア"
          },
          "sharpe_ratio": {
            "type": "number",
            "title": "Sharpe Ratio",
            "description": "シャープレシオ",
            "default": 0
          },
          "calmar_ratio": {
            "type": "number",
            "title": "Calmar Ratio",
            "description": "カルマーレシオ",
            "default": 0
          },
          "total_return": {
            "type": "number",
            "title": "Total Return",
            "description": "トータルリターン",
            "default": 0
          },
          "max_drawdown": {
            "type": "number",
            "title": "Max Drawdown",
            "description": "最大ドローダウン",
            "default": 0
          },
          "win_rate": {
            "type": "number",
            "title": "Win Rate",
            "description": "勝率",
            "default": 0
          },
          "trade_count": {
            "type": "integer",
            "title": "Trade Count",
            "description": "取引回数",
            "default": 0
          },
          "entry_signals": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Entry Signals",
            "description": "エントリーシグナル"
          },
          "exit_signals": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Exit Signals",
            "description": "エグジットシグナル"
          }
        },
        "type": "object",
        "required": [
          "strategy_id",
          "score"
        ],
        "title": "GenerateResultItem",
        "description": "生成結果アイテム"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HealthResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status"
          },
          "service": {
            "type": "string",
            "title": "Service"
          },
          "version": {
            "type": "string",
            "title": "Version"
          }
        },
        "type": "object",
        "required": [
          "status",
          "service",
          "version"
        ],
        "title": "HealthResponse",
        "description": "ヘルスチェックレスポンス"
      },
      "HtmlFileContentResponse": {
        "properties": {
          "strategy_name": {
            "type": "string",
            "title": "Strategy Name",
            "description": "戦略名"
          },
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "ファイル名"
          },
          "html_content": {
            "type": "string",
            "title": "Html Content",
            "description": "HTMLコンテンツ（base64エンコード）"
          },
          "metrics": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/HtmlFileMetrics"
              },
              {
                "type": "null"
              }
            ],
            "description": "メトリクス"
          }
        },
        "type": "object",
        "required": [
          "strategy_name",
          "filename",
          "html_content"
        ],
        "title": "HtmlFileContentResponse",
        "description": "HTMLファイルコンテンツレスポンス"
      },
      "HtmlFileDeleteResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "削除成功フラグ"
          },
          "strategy_name": {
            "type": "string",
            "title": "Strategy Name",
            "description": "戦略名"
          },
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "削除されたファイル名"
          }
        },
        "type": "object",
        "required": [
          "success",
          "strategy_name",
          "filename"
        ],
        "title": "HtmlFileDeleteResponse",
        "description": "HTMLファイル削除レスポンス"
      },
      "HtmlFileInfo": {
        "properties": {
          "strategy_name": {
            "type": "string",
            "title": "Strategy Name",
            "description": "戦略名"
          },
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "ファイル名"
          },
          "dataset_name": {
            "type": "string",
            "title": "Dataset Name",
            "description": "データセット名"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "作成日時"
          },
          "size_bytes": {
            "type": "integer",
            "title": "Size Bytes",
            "description": "ファイルサイズ（バイト）"
          }
        },
        "type": "object",
        "required": [
          "strategy_name",
          "filename",
          "dataset_name",
          "created_at",
          "size_bytes"
        ],
        "title": "HtmlFileInfo",
        "description": "HTMLファイル情報"
      },
      "HtmlFileListResponse": {
        "properties": {
          "files": {
            "items": {
              "$ref": "#/components/schemas/HtmlFileInfo"
            },
            "type": "array",
            "title": "Files",
            "description": "HTMLファイル一覧"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "総ファイル数"
          }
        },
        "type": "object",
        "required": [
          "files",
          "total"
        ],
        "title": "HtmlFileListResponse",
        "description": "HTMLファイル一覧レスポンス"
      },
      "HtmlFileMetrics": {
        "properties": {
          "total_return": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Return"
          },
          "max_drawdown": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Drawdown"
          },
          "sharpe_ratio": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sharpe Ratio"
          },
          "sortino_ratio": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sortino Ratio"
          },
          "calmar_ratio": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Calmar Ratio"
          },
          "win_rate": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Win Rate"
          },
          "profit_factor": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Profit Factor"
          },
          "total_trades": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Trades"
          }
        },
        "type": "object",
        "title": "HtmlFileMetrics",
        "description": "HTMLファイルから抽出したメトリクス"
      },
      "HtmlFileRenameRequest": {
        "properties": {
          "new_filename": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "New Filename",
            "description": "新しいファイル名（.html拡張子必須）"
          }
        },
        "type": "object",
        "required": [
          "new_filename"
        ],
        "title": "HtmlFileRenameRequest",
        "description": "HTMLファイルリネームリクエスト"
      },
      "HtmlFileRenameResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "リネーム成功フラグ"
          },
          "strategy_name": {
            "type": "string",
            "title": "Strategy Name",
            "description": "戦略名"
          },
          "old_filename": {
            "type": "string",
            "title": "Old Filename",
            "description": "変更前のファイル名"
          },
          "new_filename": {
            "type": "string",
            "title": "New Filename",
            "description": "変更後のファイル名"
          }
        },
        "type": "object",
        "required": [
          "success",
          "strategy_name",
          "old_filename",
          "new_filename"
        ],
        "title": "HtmlFileRenameResponse",
        "description": "HTMLファイルリネームレスポンス"
      },
      "ImprovementItem": {
        "properties": {
          "improvement_type": {
            "type": "string",
            "title": "Improvement Type",
            "description": "改善タイプ"
          },
          "target": {
            "type": "string",
            "title": "Target",
            "description": "対象 (entry/exit)"
          },
          "signal_name": {
            "type": "string",
            "title": "Signal Name",
            "description": "シグナル名"
          },
          "changes": {
            "additionalProperties": true,
            "type": "object",
            "title": "Changes",
            "description": "変更内容"
          },
          "reason": {
            "type": "string",
            "title": "Reason",
            "description": "理由"
          },
          "expected_impact": {
            "type": "string",
            "title": "Expected Impact",
            "description": "期待される効果"
          }
        },
        "type": "object",
        "required": [
          "improvement_type",
          "target",
          "signal_name",
          "reason",
          "expected_impact"
        ],
        "title": "ImprovementItem",
        "description": "改善アイテム"
      },
      "IndexDataResponse": {
        "properties": {
          "code": {
            "type": "string",
            "title": "Code"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "data": {
            "items": {
              "$ref": "#/components/schemas/IndexOHLCRecord"
            },
            "type": "array",
            "title": "Data"
          },
          "lastUpdated": {
            "type": "string",
            "title": "Lastupdated",
            "description": "最終更新日時 (ISO 8601)"
          }
        },
        "type": "object",
        "required": [
          "code",
          "name",
          "data",
          "lastUpdated"
        ],
        "title": "IndexDataResponse",
        "description": "指数チャートデータレスポンス"
      },
      "IndexInfo": {
        "properties": {
          "code": {
            "type": "string",
            "title": "Code",
            "description": "指数コード"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "指数名"
          },
          "nameEnglish": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nameenglish",
            "description": "指数名（英語）"
          },
          "category": {
            "type": "string",
            "title": "Category",
            "description": "カテゴリ"
          },
          "dataStartDate": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Datastartdate",
            "description": "データ開始日"
          }
        },
        "type": "object",
        "required": [
          "code",
          "name",
          "category"
        ],
        "title": "IndexInfo",
        "description": "指数マスタ情報"
      },
      "IndexMatch": {
        "properties": {
          "indexCode": {
            "type": "string",
            "title": "Indexcode"
          },
          "indexName": {
            "type": "string",
            "title": "Indexname"
          },
          "category": {
            "type": "string",
            "title": "Category"
          },
          "rSquared": {
            "type": "number",
            "title": "Rsquared"
          },
          "beta": {
            "type": "number",
            "title": "Beta"
          }
        },
        "type": "object",
        "required": [
          "indexCode",
          "indexName",
          "category",
          "rSquared",
          "beta"
        ],
        "title": "IndexMatch",
        "description": "指数マッチ結果"
      },
      "IndexOHLCRecord": {
        "properties": {
          "date": {
            "type": "string",
            "title": "Date"
          },
          "open": {
            "type": "number",
            "title": "Open"
          },
          "high": {
            "type": "number",
            "title": "High"
          },
          "low": {
            "type": "number",
            "title": "Low"
          },
          "close": {
            "type": "number",
            "title": "Close"
          }
        },
        "type": "object",
        "required": [
          "date",
          "open",
          "high",
          "low",
          "close"
        ],
        "title": "IndexOHLCRecord",
        "description": "指数 OHLC レコード"
      },
      "IndicatorComputeRequest": {
        "properties": {
          "stock_code": {
            "type": "string",
            "maxLength": 10,
            "minLength": 1,
            "title": "Stock Code",
            "description": "銘柄コード"
          },
          "source": {
            "type": "string",
            "enum": [
              "market",
              "dataset"
            ],
            "title": "Source",
            "description": "データソース",
            "default": "dataset"
          },
          "timeframe": {
            "type": "string",
            "enum": [
              "daily",
              "weekly",
              "monthly"
            ],
            "title": "Timeframe",
            "description": "時間枠",
            "default": "daily"
          },
          "indicators": {
            "items": {
              "$ref": "#/components/schemas/IndicatorSpec"
            },
            "type": "array",
            "title": "Indicators",
            "description": "計算するインジケーター一覧 (output='ohlcv'時は空でも可)"
          },
          "start_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Date",
            "description": "開始日"
          },
          "end_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Date",
            "description": "終了日"
          },
          "nan_handling": {
            "type": "string",
            "enum": [
              "include",
              "omit"
            ],
            "title": "Nan Handling",
            "description": "NaN処理方式",
            "default": "include"
          },
          "benchmark_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Benchmark Code",
            "description": "ベンチマークコード (e.g., 'topix')"
          },
          "relative_options": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/RelativeOHLCOptions"
              },
              {
                "type": "null"
              }
            ],
            "description": "相対OHLCオプション"
          },
          "output": {
            "type": "string",
            "enum": [
              "indicators",
              "ohlcv"
            ],
            "title": "Output",
            "description": "出力形式: indicators=インジケーター計算結果, ohlcv=変換後OHLCVのみ",
            "default": "indicators"
          }
        },
        "type": "object",
        "required": [
          "stock_code"
        ],
        "title": "IndicatorComputeRequest",
        "description": "インジケーター計算リクエスト"
      },
      "IndicatorComputeResponse": {
        "properties": {
          "stock_code": {
            "type": "string",
            "title": "Stock Code",
            "description": "銘柄コード"
          },
          "timeframe": {
            "type": "string",
            "title": "Timeframe",
            "description": "時間枠"
          },
          "meta": {
            "additionalProperties": true,
            "type": "object",
            "title": "Meta",
            "description": "メタ情報（データ件数等）"
          },
          "indicators": {
            "additionalProperties": {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "array"
            },
            "type": "object",
            "title": "Indicators",
            "description": "インジケーター結果 {key: [{date, value, ...}]} (output='ohlcv'時は空)"
          },
          "ohlcv": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ohlcv",
            "description": "OHLCVデータ (output='ohlcv'時のみ)"
          }
        },
        "type": "object",
        "required": [
          "stock_code",
          "timeframe"
        ],
        "title": "IndicatorComputeResponse",
        "description": "インジケーター計算レスポンス"
      },
      "IndicatorSpec": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "sma",
              "ema",
              "rsi",
              "macd",
              "ppo",
              "bollinger",
              "atr",
              "atr_support",
              "nbar_support",
              "volume_comparison",
              "trading_value_ma"
            ],
            "title": "Type",
            "description": "インジケータータイプ"
          },
          "params": {
            "additionalProperties": true,
            "type": "object",
            "title": "Params",
            "description": "パラメータ"
          }
        },
        "type": "object",
        "required": [
          "type"
        ],
        "title": "IndicatorSpec",
        "description": "インジケーター指定\n\nExample: {\"type\": \"sma\", \"params\": {\"period\": 20}}"
      },
      "IndicesListResponse": {
        "properties": {
          "indices": {
            "items": {
              "$ref": "#/components/schemas/IndexInfo"
            },
            "type": "array",
            "title": "Indices"
          },
          "lastUpdated": {
            "type": "string",
            "title": "Lastupdated",
            "description": "最終更新日時 (ISO 8601)"
          }
        },
        "type": "object",
        "required": [
          "indices",
          "lastUpdated"
        ],
        "title": "IndicesListResponse",
        "description": "指数一覧レスポンス"
      },
      "JobStatus": {
        "type": "string",
        "enum": [
          "pending",
          "running",
          "completed",
          "failed",
          "cancelled"
        ],
        "title": "JobStatus",
        "description": "ジョブステータス"
      },
      "LabEvolveRequest": {
        "properties": {
          "strategy_name": {
            "type": "string",
            "minLength": 1,
            "title": "Strategy Name",
            "description": "ベース戦略名"
          },
          "generations": {
            "type": "integer",
            "maximum": 100,
            "minimum": 1,
            "title": "Generations",
            "description": "世代数",
            "default": 20
          },
          "population": {
            "type": "integer",
            "maximum": 500,
            "minimum": 10,
            "title": "Population",
            "description": "個体数",
            "default": 50
          },
          "save": {
            "type": "boolean",
            "title": "Save",
            "description": "結果をYAMLに保存",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "strategy_name"
        ],
        "title": "LabEvolveRequest",
        "description": "GA進化リクエスト"
      },
      "LabEvolveResult": {
        "properties": {
          "lab_type": {
            "type": "string",
            "const": "evolve",
            "title": "Lab Type",
            "default": "evolve"
          },
          "best_strategy_id": {
            "type": "string",
            "title": "Best Strategy Id",
            "description": "最良戦略ID"
          },
          "best_score": {
            "type": "number",
            "title": "Best Score",
            "description": "最良スコア"
          },
          "history": {
            "items": {
              "$ref": "#/components/schemas/EvolutionHistoryItem"
            },
            "type": "array",
            "title": "History",
            "description": "進化履歴"
          },
          "saved_strategy_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Saved Strategy Path",
            "description": "保存先パス"
          },
          "saved_history_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Saved History Path",
            "description": "履歴保存先パス"
          }
        },
        "type": "object",
        "required": [
          "best_strategy_id",
          "best_score",
          "history"
        ],
        "title": "LabEvolveResult",
        "description": "GA進化結果"
      },
      "LabGenerateRequest": {
        "properties": {
          "count": {
            "type": "integer",
            "maximum": 10000,
            "minimum": 1,
            "title": "Count",
            "description": "生成する戦略数",
            "default": 100
          },
          "top": {
            "type": "integer",
            "maximum": 100,
            "minimum": 1,
            "title": "Top",
            "description": "評価する上位戦略数",
            "default": 10
          },
          "seed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Seed",
            "description": "乱数シード（再現性用）"
          },
          "save": {
            "type": "boolean",
            "title": "Save",
            "description": "結果をYAMLに保存",
            "default": true
          },
          "direction": {
            "type": "string",
            "enum": [
              "longonly",
              "shortonly",
              "both"
            ],
            "title": "Direction",
            "description": "売買方向",
            "default": "longonly"
          },
          "timeframe": {
            "type": "string",
            "enum": [
              "daily",
              "weekly"
            ],
            "title": "Timeframe",
            "description": "タイムフレーム",
            "default": "daily"
          },
          "dataset": {
            "type": "string",
            "title": "Dataset",
            "description": "データセット名",
            "default": "primeExTopix500"
          }
        },
        "type": "object",
        "title": "LabGenerateRequest",
        "description": "戦略自動生成リクエスト"
      },
      "LabGenerateResult": {
        "properties": {
          "lab_type": {
            "type": "string",
            "const": "generate",
            "title": "Lab Type",
            "default": "generate"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/GenerateResultItem"
            },
            "type": "array",
            "title": "Results",
            "description": "生成結果リスト"
          },
          "total_generated": {
            "type": "integer",
            "title": "Total Generated",
            "description": "生成総数"
          },
          "saved_strategy_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Saved Strategy Path",
            "description": "保存先パス"
          }
        },
        "type": "object",
        "required": [
          "results",
          "total_generated"
        ],
        "title": "LabGenerateResult",
        "description": "戦略自動生成結果"
      },
      "LabImproveRequest": {
        "properties": {
          "strategy_name": {
            "type": "string",
            "minLength": 1,
            "title": "Strategy Name",
            "description": "改善対象の戦略名"
          },
          "auto_apply": {
            "type": "boolean",
            "title": "Auto Apply",
            "description": "改善を自動適用",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "strategy_name"
        ],
        "title": "LabImproveRequest",
        "description": "戦略改善リクエスト"
      },
      "LabImproveResult": {
        "properties": {
          "lab_type": {
            "type": "string",
            "const": "improve",
            "title": "Lab Type",
            "default": "improve"
          },
          "strategy_name": {
            "type": "string",
            "title": "Strategy Name",
            "description": "戦略名"
          },
          "max_drawdown": {
            "type": "number",
            "title": "Max Drawdown",
            "description": "最大ドローダウン",
            "default": 0
          },
          "max_drawdown_duration_days": {
            "type": "integer",
            "title": "Max Drawdown Duration Days",
            "description": "最大DD期間（日）",
            "default": 0
          },
          "suggested_improvements": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Suggested Improvements",
            "description": "改善提案サマリー"
          },
          "improvements": {
            "items": {
              "$ref": "#/components/schemas/ImprovementItem"
            },
            "type": "array",
            "title": "Improvements",
            "description": "具体的改善リスト"
          },
          "saved_strategy_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Saved Strategy Path",
            "description": "保存先パス"
          }
        },
        "type": "object",
        "required": [
          "strategy_name"
        ],
        "title": "LabImproveResult",
        "description": "戦略改善結果"
      },
      "LabJobResponse": {
        "properties": {
          "job_id": {
            "type": "string",
            "title": "Job Id",
            "description": "ジョブID"
          },
          "status": {
            "$ref": "#/components/schemas/JobStatus"
          },
          "progress": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Progress",
            "description": "進捗（0.0 - 1.0）"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message",
            "description": "ステータスメッセージ"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "作成日時"
          },
          "started_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At",
            "description": "開始日時"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At",
            "description": "完了日時"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "エラーメッセージ"
          },
          "lab_type": {
            "anyOf": [
              {
                "type": "string",
                "enum": [
                  "generate",
                  "evolve",
                  "optimize",
                  "improve"
                ]
              },
              {
                "type": "null"
              }
            ],
            "title": "Lab Type",
            "description": "Lab処理タイプ"
          },
          "strategy_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Strategy Name",
            "description": "戦略名"
          },
          "result_data": {
            "anyOf": [
              {
                "oneOf": [
                  {
                    "$ref": "#/components/schemas/LabGenerateResult"
                  },
                  {
                    "$ref": "#/components/schemas/LabEvolveResult"
                  },
                  {
                    "$ref": "#/components/schemas/LabOptimizeResult"
                  },
                  {
                    "$ref": "#/components/schemas/LabImproveResult"
                  }
                ],
                "discriminator": {
                  "propertyName": "lab_type",
                  "mapping": {
                    "evolve": "#/components/schemas/LabEvolveResult",
                    "generate": "#/components/schemas/LabGenerateResult",
                    "improve": "#/components/schemas/LabImproveResult",
                    "optimize": "#/components/schemas/LabOptimizeResult"
                  }
                }
              },
              {
                "type": "null"
              }
            ],
            "title": "Result Data",
            "description": "Lab結果データ（完了時のみ）"
          }
        },
        "type": "object",
        "required": [
          "job_id",
          "status",
          "created_at"
        ],
        "title": "LabJobResponse",
        "description": "Lab APIジョブレスポンス"
      },
      "LabOptimizeRequest": {
        "properties": {
          "strategy_name": {
            "type": "string",
            "minLength": 1,
            "title": "Strategy Name",
            "description": "ベース戦略名"
          },
          "trials": {
            "type": "integer",
            "maximum": 1000,
            "minimum": 10,
            "title": "Trials",
            "description": "試行回数",
            "default": 100
          },
          "sampler": {
            "type": "string",
            "enum": [
              "tpe",
              "random",
              "cmaes"
            ],
            "title": "Sampler",
            "description": "サンプラー",
            "default": "tpe"
          },
          "save": {
            "type": "boolean",
            "title": "Save",
            "description": "結果をYAMLに保存",
            "default": true
          },
          "scoring_weights": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scoring Weights",
            "description": "スコアリング重み"
          }
        },
        "type": "object",
        "required": [
          "strategy_name"
        ],
        "title": "LabOptimizeRequest",
        "description": "Optuna最適化リクエスト"
      },
      "LabOptimizeResult": {
        "properties": {
          "lab_type": {
            "type": "string",
            "const": "optimize",
            "title": "Lab Type",
            "default": "optimize"
          },
          "best_score": {
            "type": "number",
            "title": "Best Score",
            "description": "最良スコア"
          },
          "best_params": {
            "additionalProperties": true,
            "type": "object",
            "title": "Best Params",
            "description": "最良パラメータ"
          },
          "total_trials": {
            "type": "integer",
            "title": "Total Trials",
            "description": "総トライアル数"
          },
          "history": {
            "items": {
              "$ref": "#/components/schemas/OptimizeTrialItem"
            },
            "type": "array",
            "title": "History",
            "description": "トライアル履歴"
          },
          "saved_strategy_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Saved Strategy Path",
            "description": "保存先パス"
          },
          "saved_history_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Saved History Path",
            "description": "履歴保存先パス"
          }
        },
        "type": "object",
        "required": [
          "best_score",
          "best_params",
          "total_trials",
          "history"
        ],
        "title": "LabOptimizeResult",
        "description": "Optuna最適化結果"
      },
      "MarginFlowPressureData": {
        "properties": {
          "date": {
            "type": "string",
            "title": "Date"
          },
          "flowPressure": {
            "type": "number",
            "title": "Flowpressure",
            "description": "Delta(LongVol - ShrtVol) / N-day avg volume"
          },
          "currentNetMargin": {
            "type": "number",
            "title": "Currentnetmargin"
          },
          "previousNetMargin": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Previousnetmargin"
          },
          "avgVolume": {
            "type": "number",
            "minimum": 0,
            "title": "Avgvolume"
          }
        },
        "type": "object",
        "required": [
          "date",
          "flowPressure",
          "currentNetMargin",
          "avgVolume"
        ],
        "title": "MarginFlowPressureData",
        "description": "マージンフロープレッシャーデータ"
      },
      "MarginIndicatorRequest": {
        "properties": {
          "stock_code": {
            "type": "string",
            "maxLength": 10,
            "minLength": 1,
            "title": "Stock Code",
            "description": "銘柄コード"
          },
          "source": {
            "type": "string",
            "title": "Source",
            "description": "データソース（データセット名: topix500, topix100等）",
            "default": "topix500"
          },
          "indicators": {
            "items": {
              "type": "string",
              "enum": [
                "margin_long_pressure",
                "margin_flow_pressure",
                "margin_turnover_days",
                "margin_volume_ratio"
              ]
            },
            "type": "array",
            "maxItems": 4,
            "minItems": 1,
            "title": "Indicators",
            "description": "信用指標"
          },
          "average_period": {
            "type": "integer",
            "maximum": 200,
            "minimum": 1,
            "title": "Average Period",
            "description": "出来高平均期間",
            "default": 15
          },
          "start_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Date",
            "description": "開始日"
          },
          "end_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Date",
            "description": "終了日"
          }
        },
        "type": "object",
        "required": [
          "stock_code",
          "indicators"
        ],
        "title": "MarginIndicatorRequest",
        "description": "信用指標リクエスト"
      },
      "MarginIndicatorResponse": {
        "properties": {
          "stock_code": {
            "type": "string",
            "title": "Stock Code",
            "description": "銘柄コード"
          },
          "indicators": {
            "additionalProperties": {
              "items": {
                "additionalProperties": true,
                "type": "object"
              },
              "type": "array"
            },
            "type": "object",
            "title": "Indicators",
            "description": "信用指標結果"
          }
        },
        "type": "object",
        "required": [
          "stock_code",
          "indicators"
        ],
        "title": "MarginIndicatorResponse",
        "description": "信用指標レスポンス"
      },
      "MarginLongPressureData": {
        "properties": {
          "date": {
            "type": "string",
            "title": "Date"
          },
          "pressure": {
            "type": "number",
            "title": "Pressure",
            "description": "(LongVol - ShrtVol) / N-day avg volume"
          },
          "longVol": {
            "type": "number",
            "minimum": 0,
            "title": "Longvol"
          },
          "shortVol": {
            "type": "number",
            "minimum": 0,
            "title": "Shortvol"
          },
          "avgVolume": {
            "type": "number",
            "minimum": 0,
            "title": "Avgvolume"
          }
        },
        "type": "object",
        "required": [
          "date",
          "pressure",
          "longVol",
          "shortVol",
          "avgVolume"
        ],
        "title": "MarginLongPressureData",
        "description": "マージンロングプレッシャーデータ"
      },
      "MarginPressureIndicatorsResponse": {
        "properties": {
          "symbol": {
            "type": "string",
            "maxLength": 4,
            "minLength": 4,
            "title": "Symbol"
          },
          "averagePeriod": {
            "type": "integer",
            "exclusiveMinimum": 0,
            "title": "Averageperiod",
            "description": "Rolling average period in days"
          },
          "longPressure": {
            "items": {
              "$ref": "#/components/schemas/MarginLongPressureData"
            },
            "type": "array",
            "title": "Longpressure"
          },
          "flowPressure": {
            "items": {
              "$ref": "#/components/schemas/MarginFlowPressureData"
            },
            "type": "array",
            "title": "Flowpressure"
          },
          "turnoverDays": {
            "items": {
              "$ref": "#/components/schemas/MarginTurnoverDaysData"
            },
            "type": "array",
            "title": "Turnoverdays"
          },
          "lastUpdated": {
            "type": "string",
            "title": "Lastupdated"
          }
        },
        "type": "object",
        "required": [
          "symbol",
          "averagePeriod",
          "longPressure",
          "flowPressure",
          "turnoverDays",
          "lastUpdated"
        ],
        "title": "MarginPressureIndicatorsResponse",
        "description": "マージンプレッシャー指標レスポンス"
      },
      "MarginTurnoverDaysData": {
        "properties": {
          "date": {
            "type": "string",
            "title": "Date"
          },
          "turnoverDays": {
            "type": "number",
            "minimum": 0,
            "title": "Turnoverdays",
            "description": "LongVol / N-day avg volume"
          },
          "longVol": {
            "type": "number",
            "minimum": 0,
            "title": "Longvol"
          },
          "avgVolume": {
            "type": "number",
            "minimum": 0,
            "title": "Avgvolume"
          }
        },
        "type": "object",
        "required": [
          "date",
          "turnoverDays",
          "longVol",
          "avgVolume"
        ],
        "title": "MarginTurnoverDaysData",
        "description": "マージン回転日数データ"
      },
      "MarginVolumeRatioData": {
        "properties": {
          "date": {
            "type": "string",
            "title": "Date"
          },
          "ratio": {
            "type": "number",
            "minimum": 0,
            "title": "Ratio"
          },
          "weeklyAvgVolume": {
            "type": "number",
            "minimum": 0,
            "title": "Weeklyavgvolume"
          },
          "marginVolume": {
            "type": "number",
            "minimum": 0,
            "title": "Marginvolume"
          }
        },
        "type": "object",
        "required": [
          "date",
          "ratio",
          "weeklyAvgVolume",
          "marginVolume"
        ],
        "title": "MarginVolumeRatioData",
        "description": "マージン出来高比率データ"
      },
      "MarginVolumeRatioResponse": {
        "properties": {
          "symbol": {
            "type": "string",
            "maxLength": 4,
            "minLength": 4,
            "title": "Symbol"
          },
          "longRatio": {
            "items": {
              "$ref": "#/components/schemas/MarginVolumeRatioData"
            },
            "type": "array",
            "title": "Longratio"
          },
          "shortRatio": {
            "items": {
              "$ref": "#/components/schemas/MarginVolumeRatioData"
            },
            "type": "array",
            "title": "Shortratio"
          },
          "lastUpdated": {
            "type": "string",
            "title": "Lastupdated"
          }
        },
        "type": "object",
        "required": [
          "symbol",
          "longRatio",
          "shortRatio",
          "lastUpdated"
        ],
        "title": "MarginVolumeRatioResponse",
        "description": "マージン出来高比率レスポンス"
      },
      "MarketOHLCRecord": {
        "properties": {
          "date": {
            "type": "string",
            "title": "Date",
            "description": "日付 (YYYY-MM-DD)"
          },
          "open": {
            "type": "number",
            "title": "Open"
          },
          "high": {
            "type": "number",
            "title": "High"
          },
          "low": {
            "type": "number",
            "title": "Low"
          },
          "close": {
            "type": "number",
            "title": "Close"
          }
        },
        "type": "object",
        "required": [
          "date",
          "open",
          "high",
          "low",
          "close"
        ],
        "title": "MarketOHLCRecord",
        "description": "OHLC レコード（出来高なし、TOPIX 用）"
      },
      "MarketOHLCVRecord": {
        "properties": {
          "date": {
            "type": "string",
            "title": "Date",
            "description": "日付 (YYYY-MM-DD)"
          },
          "open": {
            "type": "number",
            "title": "Open"
          },
          "high": {
            "type": "number",
            "title": "High"
          },
          "low": {
            "type": "number",
            "title": "Low"
          },
          "close": {
            "type": "number",
            "title": "Close"
          },
          "volume": {
            "type": "integer",
            "title": "Volume"
          }
        },
        "type": "object",
        "required": [
          "date",
          "open",
          "high",
          "low",
          "close",
          "volume"
        ],
        "title": "MarketOHLCVRecord",
        "description": "OHLCV レコード（出来高あり）"
      },
      "MarketRankingResponse": {
        "properties": {
          "date": {
            "type": "string",
            "title": "Date"
          },
          "markets": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Markets"
          },
          "lookbackDays": {
            "type": "integer",
            "title": "Lookbackdays"
          },
          "periodDays": {
            "type": "integer",
            "title": "Perioddays"
          },
          "rankings": {
            "$ref": "#/components/schemas/Rankings"
          },
          "lastUpdated": {
            "type": "string",
            "title": "Lastupdated"
          }
        },
        "type": "object",
        "required": [
          "date",
          "markets",
          "lookbackDays",
          "periodDays",
          "rankings",
          "lastUpdated"
        ],
        "title": "MarketRankingResponse",
        "description": "マーケットランキングレスポンス"
      },
      "MarketScreeningResponse": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/ScreeningResultItem"
            },
            "type": "array",
            "title": "Results"
          },
          "summary": {
            "$ref": "#/components/schemas/ScreeningSummary"
          },
          "markets": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Markets"
          },
          "recentDays": {
            "type": "integer",
            "title": "Recentdays"
          },
          "referenceDate": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Referencedate"
          },
          "lastUpdated": {
            "type": "string",
            "title": "Lastupdated"
          }
        },
        "type": "object",
        "required": [
          "results",
          "summary",
          "markets",
          "recentDays",
          "lastUpdated"
        ],
        "title": "MarketScreeningResponse",
        "description": "マーケットスクリーニングレスポンス"
      },
      "MarketStockData": {
        "properties": {
          "code": {
            "type": "string",
            "title": "Code",
            "description": "銘柄コード"
          },
          "company_name": {
            "type": "string",
            "title": "Company Name",
            "description": "会社名（日本語）"
          },
          "data": {
            "items": {
              "$ref": "#/components/schemas/MarketOHLCVRecord"
            },
            "type": "array",
            "title": "Data",
            "description": "OHLCV データ配列"
          }
        },
        "type": "object",
        "required": [
          "code",
          "company_name",
          "data"
        ],
        "title": "MarketStockData",
        "description": "市場別銘柄データ（スクリーニング用バルクレスポンス）"
      },
      "OHLCVRecord": {
        "properties": {
          "date": {
            "type": "string",
            "title": "Date",
            "description": "日付 (YYYY-MM-DD)"
          },
          "open": {
            "type": "number",
            "title": "Open",
            "description": "始値"
          },
          "high": {
            "type": "number",
            "title": "High",
            "description": "高値"
          },
          "low": {
            "type": "number",
            "title": "Low",
            "description": "安値"
          },
          "close": {
            "type": "number",
            "title": "Close",
            "description": "終値"
          },
          "volume": {
            "type": "number",
            "title": "Volume",
            "description": "出来高"
          }
        },
        "type": "object",
        "required": [
          "date",
          "open",
          "high",
          "low",
          "close",
          "volume"
        ],
        "title": "OHLCVRecord",
        "description": "OHLCVレコード"
      },
      "OHLCVResampleRequest": {
        "properties": {
          "stock_code": {
            "type": "string",
            "maxLength": 10,
            "minLength": 1,
            "title": "Stock Code",
            "description": "銘柄コード"
          },
          "source": {
            "type": "string",
            "enum": [
              "market",
              "dataset"
            ],
            "title": "Source",
            "description": "データソース",
            "default": "market"
          },
          "timeframe": {
            "type": "string",
            "enum": [
              "daily",
              "weekly",
              "monthly"
            ],
            "title": "Timeframe",
            "description": "出力時間枠",
            "default": "weekly"
          },
          "start_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Date",
            "description": "開始日"
          },
          "end_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Date",
            "description": "終了日"
          },
          "benchmark_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Benchmark Code",
            "description": "ベンチマークコード (e.g., 'topix') - 指定時は相対OHLCを計算"
          },
          "relative_options": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/RelativeOHLCOptions"
              },
              {
                "type": "null"
              }
            ],
            "description": "相対OHLCオプション"
          }
        },
        "type": "object",
        "required": [
          "stock_code"
        ],
        "title": "OHLCVResampleRequest",
        "description": "OHLCVリサンプルリクエスト\n\nTimeframe変換およびRelative OHLC変換を実行。\n仕様: docs/spec-timeframe-resample.md"
      },
      "OHLCVResampleResponse": {
        "properties": {
          "stock_code": {
            "type": "string",
            "title": "Stock Code",
            "description": "銘柄コード"
          },
          "timeframe": {
            "type": "string",
            "title": "Timeframe",
            "description": "時間枠"
          },
          "benchmark_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Benchmark Code",
            "description": "使用したベンチマーク（相対モード時）"
          },
          "meta": {
            "additionalProperties": true,
            "type": "object",
            "title": "Meta",
            "description": "メタ情報 (source_bars: 元データ件数, resampled_bars: 変換後件数)"
          },
          "data": {
            "items": {
              "$ref": "#/components/schemas/OHLCVRecord"
            },
            "type": "array",
            "title": "Data",
            "description": "OHLCVデータ"
          }
        },
        "type": "object",
        "required": [
          "stock_code",
          "timeframe",
          "data"
        ],
        "title": "OHLCVResampleResponse",
        "description": "OHLCVリサンプルレスポンス"
      },
      "OptimizationGridConfig": {
        "properties": {
          "strategy_name": {
            "type": "string",
            "title": "Strategy Name",
            "description": "戦略名"
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "YAML文字列"
          },
          "param_count": {
            "type": "integer",
            "title": "Param Count",
            "description": "パラメータ数"
          },
          "combinations": {
            "type": "integer",
            "title": "Combinations",
            "description": "組み合わせ数"
          }
        },
        "type": "object",
        "required": [
          "strategy_name",
          "content",
          "param_count",
          "combinations"
        ],
        "title": "OptimizationGridConfig",
        "description": "Grid設定"
      },
      "OptimizationGridDeleteResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "削除成功フラグ"
          },
          "strategy_name": {
            "type": "string",
            "title": "Strategy Name",
            "description": "戦略名"
          }
        },
        "type": "object",
        "required": [
          "success",
          "strategy_name"
        ],
        "title": "OptimizationGridDeleteResponse",
        "description": "Grid設定削除レスポンス"
      },
      "OptimizationGridListResponse": {
        "properties": {
          "configs": {
            "items": {
              "$ref": "#/components/schemas/OptimizationGridConfig"
            },
            "type": "array",
            "title": "Configs",
            "description": "Grid設定一覧"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "総設定数"
          }
        },
        "type": "object",
        "required": [
          "configs",
          "total"
        ],
        "title": "OptimizationGridListResponse",
        "description": "Grid設定一覧レスポンス"
      },
      "OptimizationGridSaveRequest": {
        "properties": {
          "content": {
            "type": "string",
            "title": "Content",
            "description": "YAML文字列"
          }
        },
        "type": "object",
        "required": [
          "content"
        ],
        "title": "OptimizationGridSaveRequest",
        "description": "Grid設定保存リクエスト"
      },
      "OptimizationGridSaveResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "保存成功フラグ"
          },
          "strategy_name": {
            "type": "string",
            "title": "Strategy Name",
            "description": "戦略名"
          },
          "param_count": {
            "type": "integer",
            "title": "Param Count",
            "description": "パラメータ数"
          },
          "combinations": {
            "type": "integer",
            "title": "Combinations",
            "description": "組み合わせ数"
          }
        },
        "type": "object",
        "required": [
          "success",
          "strategy_name",
          "param_count",
          "combinations"
        ],
        "title": "OptimizationGridSaveResponse",
        "description": "Grid設定保存レスポンス"
      },
      "OptimizationHtmlFileContentResponse": {
        "properties": {
          "strategy_name": {
            "type": "string",
            "title": "Strategy Name",
            "description": "戦略名"
          },
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "ファイル名"
          },
          "html_content": {
            "type": "string",
            "title": "Html Content",
            "description": "HTMLコンテンツ（base64エンコード）"
          }
        },
        "type": "object",
        "required": [
          "strategy_name",
          "filename",
          "html_content"
        ],
        "title": "OptimizationHtmlFileContentResponse",
        "description": "最適化結果HTMLファイルコンテンツレスポンス"
      },
      "OptimizationHtmlFileInfo": {
        "properties": {
          "strategy_name": {
            "type": "string",
            "title": "Strategy Name",
            "description": "戦略名"
          },
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "ファイル名"
          },
          "dataset_name": {
            "type": "string",
            "title": "Dataset Name",
            "description": "データセット名"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "作成日時"
          },
          "size_bytes": {
            "type": "integer",
            "title": "Size Bytes",
            "description": "ファイルサイズ（バイト）"
          }
        },
        "type": "object",
        "required": [
          "strategy_name",
          "filename",
          "dataset_name",
          "created_at",
          "size_bytes"
        ],
        "title": "OptimizationHtmlFileInfo",
        "description": "最適化結果HTMLファイル情報"
      },
      "OptimizationHtmlFileListResponse": {
        "properties": {
          "files": {
            "items": {
              "$ref": "#/components/schemas/OptimizationHtmlFileInfo"
            },
            "type": "array",
            "title": "Files",
            "description": "HTMLファイル一覧"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "総ファイル数"
          }
        },
        "type": "object",
        "required": [
          "files",
          "total"
        ],
        "title": "OptimizationHtmlFileListResponse",
        "description": "最適化結果HTMLファイル一覧レスポンス"
      },
      "OptimizationJobResponse": {
        "properties": {
          "job_id": {
            "type": "string",
            "title": "Job Id",
            "description": "ジョブID"
          },
          "status": {
            "$ref": "#/components/schemas/JobStatus"
          },
          "progress": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Progress",
            "description": "進捗（0.0 - 1.0）"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message",
            "description": "ステータスメッセージ"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "作成日時"
          },
          "started_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At",
            "description": "開始日時"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At",
            "description": "完了日時"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "エラーメッセージ"
          },
          "best_score": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Best Score",
            "description": "最良スコア"
          },
          "total_combinations": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Combinations",
            "description": "パラメータ組み合わせ総数"
          },
          "notebook_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notebook Path",
            "description": "結果Notebookパス"
          }
        },
        "type": "object",
        "required": [
          "job_id",
          "status",
          "created_at"
        ],
        "title": "OptimizationJobResponse",
        "description": "最適化ジョブレスポンス"
      },
      "OptimizationRequest": {
        "properties": {
          "strategy_name": {
            "type": "string",
            "minLength": 1,
            "title": "Strategy Name",
            "description": "戦略名"
          }
        },
        "type": "object",
        "required": [
          "strategy_name"
        ],
        "title": "OptimizationRequest",
        "description": "最適化リクエスト"
      },
      "OptimizeTrialItem": {
        "properties": {
          "trial": {
            "type": "integer",
            "title": "Trial",
            "description": "トライアル番号"
          },
          "score": {
            "type": "number",
            "title": "Score",
            "description": "スコア"
          },
          "params": {
            "additionalProperties": true,
            "type": "object",
            "title": "Params",
            "description": "パラメータ"
          }
        },
        "type": "object",
        "required": [
          "trial",
          "score",
          "params"
        ],
        "title": "OptimizeTrialItem",
        "description": "最適化トライアルアイテム"
      },
      "ROEMetadata": {
        "properties": {
          "code": {
            "type": "string",
            "title": "Code"
          },
          "periodType": {
            "type": "string",
            "title": "Periodtype",
            "description": "Period type (FY, Q1, Q2, Q3)"
          },
          "periodEnd": {
            "type": "string",
            "title": "Periodend"
          },
          "isConsolidated": {
            "type": "boolean",
            "title": "Isconsolidated"
          },
          "accountingStandard": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Accountingstandard"
          },
          "isAnnualized": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Isannualized"
          }
        },
        "type": "object",
        "required": [
          "code",
          "periodType",
          "periodEnd",
          "isConsolidated"
        ],
        "title": "ROEMetadata",
        "description": "ROE 計算メタデータ"
      },
      "ROEResponse": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/ROEResultItem"
            },
            "type": "array",
            "title": "Results"
          },
          "summary": {
            "$ref": "#/components/schemas/ROESummary"
          },
          "lastUpdated": {
            "type": "string",
            "title": "Lastupdated"
          }
        },
        "type": "object",
        "required": [
          "results",
          "summary",
          "lastUpdated"
        ],
        "title": "ROEResponse",
        "description": "ROE 分析レスポンス"
      },
      "ROEResultItem": {
        "properties": {
          "roe": {
            "type": "number",
            "title": "Roe",
            "description": "Return on Equity percentage"
          },
          "netProfit": {
            "type": "number",
            "title": "Netprofit",
            "description": "Net profit in millions of yen"
          },
          "equity": {
            "type": "number",
            "title": "Equity",
            "description": "Shareholders' equity in millions of yen"
          },
          "metadata": {
            "$ref": "#/components/schemas/ROEMetadata"
          }
        },
        "type": "object",
        "required": [
          "roe",
          "netProfit",
          "equity",
          "metadata"
        ],
        "title": "ROEResultItem",
        "description": "ROE 計算結果"
      },
      "ROESummary": {
        "properties": {
          "averageROE": {
            "type": "number",
            "title": "Averageroe"
          },
          "maxROE": {
            "type": "number",
            "title": "Maxroe"
          },
          "minROE": {
            "type": "number",
            "title": "Minroe"
          },
          "totalCompanies": {
            "type": "integer",
            "title": "Totalcompanies"
          }
        },
        "type": "object",
        "required": [
          "averageROE",
          "maxROE",
          "minROE",
          "totalCompanies"
        ],
        "title": "ROESummary",
        "description": "ROE 集計統計"
      },
      "RangeBreakDetails": {
        "properties": {
          "breakDate": {
            "type": "string",
            "title": "Breakdate"
          },
          "currentHigh": {
            "type": "number",
            "title": "Currenthigh"
          },
          "maxHighInLookback": {
            "type": "number",
            "title": "Maxhighinlookback"
          },
          "breakPercentage": {
            "type": "number",
            "title": "Breakpercentage"
          },
          "volumeRatio": {
            "type": "number",
            "title": "Volumeratio"
          },
          "avgVolume20Days": {
            "type": "number",
            "title": "Avgvolume20Days"
          },
          "avgVolume100Days": {
            "type": "number",
            "title": "Avgvolume100Days"
          }
        },
        "type": "object",
        "required": [
          "breakDate",
          "currentHigh",
          "maxHighInLookback",
          "breakPercentage",
          "volumeRatio",
          "avgVolume20Days",
          "avgVolume100Days"
        ],
        "title": "RangeBreakDetails",
        "description": "レンジブレイク詳細"
      },
      "RankingItem": {
        "properties": {
          "rank": {
            "type": "integer",
            "title": "Rank"
          },
          "code": {
            "type": "string",
            "title": "Code"
          },
          "companyName": {
            "type": "string",
            "title": "Companyname"
          },
          "marketCode": {
            "type": "string",
            "title": "Marketcode"
          },
          "sector33Name": {
            "type": "string",
            "title": "Sector33Name"
          },
          "currentPrice": {
            "type": "number",
            "title": "Currentprice"
          },
          "volume": {
            "type": "number",
            "title": "Volume"
          },
          "tradingValue": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tradingvalue"
          },
          "tradingValueAverage": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tradingvalueaverage"
          },
          "previousPrice": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Previousprice"
          },
          "basePrice": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Baseprice"
          },
          "changeAmount": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Changeamount"
          },
          "changePercentage": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Changepercentage"
          },
          "lookbackDays": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lookbackdays"
          }
        },
        "type": "object",
        "required": [
          "rank",
          "code",
          "companyName",
          "marketCode",
          "sector33Name",
          "currentPrice",
          "volume"
        ],
        "title": "RankingItem",
        "description": "ランキング項目"
      },
      "Rankings": {
        "properties": {
          "tradingValue": {
            "items": {
              "$ref": "#/components/schemas/RankingItem"
            },
            "type": "array",
            "title": "Tradingvalue"
          },
          "gainers": {
            "items": {
              "$ref": "#/components/schemas/RankingItem"
            },
            "type": "array",
            "title": "Gainers"
          },
          "losers": {
            "items": {
              "$ref": "#/components/schemas/RankingItem"
            },
            "type": "array",
            "title": "Losers"
          },
          "periodHigh": {
            "items": {
              "$ref": "#/components/schemas/RankingItem"
            },
            "type": "array",
            "title": "Periodhigh"
          },
          "periodLow": {
            "items": {
              "$ref": "#/components/schemas/RankingItem"
            },
            "type": "array",
            "title": "Periodlow"
          }
        },
        "type": "object",
        "title": "Rankings",
        "description": "5種類のランキング"
      },
      "RawStatementItem": {
        "properties": {
          "DiscDate": {
            "type": "string",
            "title": "Discdate"
          },
          "Code": {
            "type": "string",
            "title": "Code"
          },
          "DocType": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Doctype"
          },
          "CurPerType": {
            "type": "string",
            "title": "Curpertype"
          },
          "CurPerSt": {
            "type": "string",
            "title": "Curperst"
          },
          "CurPerEn": {
            "type": "string",
            "title": "Curperen"
          },
          "CurFYSt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Curfyst"
          },
          "CurFYEn": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Curfyen"
          },
          "NxtFYSt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nxtfyst"
          },
          "NxtFYEn": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nxtfyen"
          },
          "Sales": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sales"
          },
          "OP": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Op"
          },
          "OdP": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Odp"
          },
          "NP": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Np"
          },
          "EPS": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Eps"
          },
          "DEPS": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deps"
          },
          "TA": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ta"
          },
          "Eq": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Eq"
          },
          "EqAR": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Eqar"
          },
          "BPS": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bps"
          },
          "CFO": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cfo"
          },
          "CFI": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cfi"
          },
          "CFF": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cff"
          },
          "CashEq": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Casheq"
          },
          "ShOutFY": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Shoutfy"
          },
          "TrShFY": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Trshfy"
          },
          "AvgSh": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avgsh"
          },
          "FEPS": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Feps"
          },
          "NxFEPS": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nxfeps"
          },
          "NCSales": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ncsales"
          },
          "NCOP": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ncop"
          },
          "NCOdP": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ncodp"
          },
          "NCNP": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ncnp"
          },
          "NCEPS": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nceps"
          },
          "NCTA": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ncta"
          },
          "NCEq": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nceq"
          },
          "NCEqAR": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nceqar"
          },
          "NCBPS": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ncbps"
          },
          "FNCEPS": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fnceps"
          },
          "NxFNCEPS": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nxfnceps"
          }
        },
        "type": "object",
        "required": [
          "DiscDate",
          "Code",
          "CurPerType",
          "CurPerSt",
          "CurPerEn"
        ],
        "title": "RawStatementItem",
        "description": "財務諸表データ（完全版）"
      },
      "RawStatementsResponse": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/RawStatementItem"
            },
            "type": "array",
            "title": "Data"
          },
          "pagination_key": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pagination Key"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "RawStatementsResponse",
        "description": "財務諸表レスポンス（完全版）"
      },
      "RelativeOHLCOptions": {
        "properties": {
          "handle_zero_division": {
            "type": "string",
            "enum": [
              "skip",
              "zero",
              "null"
            ],
            "title": "Handle Zero Division",
            "description": "ゼロ除算の処理方法 (skip: 除外, zero: 0を返す, null: nullを返す)",
            "default": "skip"
          }
        },
        "type": "object",
        "title": "RelativeOHLCOptions",
        "description": "相対OHLCオプション"
      },
      "ScreeningDetails": {
        "properties": {
          "rangeBreak": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/RangeBreakDetails"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "title": "ScreeningDetails",
        "description": "スクリーニング詳細"
      },
      "ScreeningResultItem": {
        "properties": {
          "stockCode": {
            "type": "string",
            "title": "Stockcode"
          },
          "companyName": {
            "type": "string",
            "title": "Companyname"
          },
          "scaleCategory": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scalecategory"
          },
          "sector33Name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sector33Name"
          },
          "screeningType": {
            "type": "string",
            "title": "Screeningtype"
          },
          "matchedDate": {
            "type": "string",
            "title": "Matcheddate"
          },
          "details": {
            "$ref": "#/components/schemas/ScreeningDetails"
          },
          "futureReturns": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/FutureReturns"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "stockCode",
          "companyName",
          "screeningType",
          "matchedDate",
          "details"
        ],
        "title": "ScreeningResultItem",
        "description": "スクリーニング結果項目"
      },
      "ScreeningSummary": {
        "properties": {
          "totalStocksScreened": {
            "type": "integer",
            "title": "Totalstocksscreened"
          },
          "matchCount": {
            "type": "integer",
            "title": "Matchcount"
          },
          "skippedCount": {
            "type": "integer",
            "title": "Skippedcount",
            "default": 0
          },
          "byScreeningType": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Byscreeningtype"
          }
        },
        "type": "object",
        "required": [
          "totalStocksScreened",
          "matchCount"
        ],
        "title": "ScreeningSummary",
        "description": "スクリーニングサマリー"
      },
      "SectorStockItem": {
        "properties": {
          "rank": {
            "type": "integer",
            "title": "Rank"
          },
          "code": {
            "type": "string",
            "title": "Code"
          },
          "companyName": {
            "type": "string",
            "title": "Companyname"
          },
          "marketCode": {
            "type": "string",
            "title": "Marketcode"
          },
          "sector33Name": {
            "type": "string",
            "title": "Sector33Name"
          },
          "currentPrice": {
            "type": "number",
            "title": "Currentprice"
          },
          "volume": {
            "type": "number",
            "title": "Volume"
          },
          "tradingValue": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tradingvalue"
          },
          "tradingValueAverage": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tradingvalueaverage"
          },
          "basePrice": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Baseprice"
          },
          "changeAmount": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Changeamount"
          },
          "changePercentage": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Changepercentage"
          },
          "lookbackDays": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lookbackdays"
          }
        },
        "type": "object",
        "required": [
          "rank",
          "code",
          "companyName",
          "marketCode",
          "sector33Name",
          "currentPrice",
          "volume"
        ],
        "title": "SectorStockItem",
        "description": "セクター別銘柄アイテム"
      },
      "SectorStocksResponse": {
        "properties": {
          "sector33Name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sector33Name"
          },
          "sector17Name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sector17Name"
          },
          "markets": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Markets"
          },
          "lookbackDays": {
            "type": "integer",
            "title": "Lookbackdays"
          },
          "sortBy": {
            "type": "string",
            "title": "Sortby"
          },
          "sortOrder": {
            "type": "string",
            "title": "Sortorder"
          },
          "stocks": {
            "items": {
              "$ref": "#/components/schemas/SectorStockItem"
            },
            "type": "array",
            "title": "Stocks"
          },
          "lastUpdated": {
            "type": "string",
            "title": "Lastupdated",
            "description": "最終更新日時 (ISO 8601)"
          }
        },
        "type": "object",
        "required": [
          "markets",
          "lookbackDays",
          "sortBy",
          "sortOrder",
          "stocks",
          "lastUpdated"
        ],
        "title": "SectorStocksResponse",
        "description": "セクター別銘柄レスポンス"
      },
      "SignalCategorySchema": {
        "properties": {
          "key": {
            "type": "string",
            "title": "Key"
          },
          "label": {
            "type": "string",
            "title": "Label"
          }
        },
        "type": "object",
        "required": [
          "key",
          "label"
        ],
        "title": "SignalCategorySchema",
        "description": "シグナルカテゴリ定義"
      },
      "SignalComputeRequest": {
        "properties": {
          "stock_code": {
            "type": "string",
            "maxLength": 10,
            "minLength": 1,
            "title": "Stock Code",
            "description": "銘柄コード"
          },
          "source": {
            "type": "string",
            "title": "Source",
            "description": "データソース ('market' or dataset名)",
            "default": "market"
          },
          "timeframe": {
            "type": "string",
            "enum": [
              "daily",
              "weekly",
              "monthly"
            ],
            "title": "Timeframe",
            "description": "時間枠",
            "default": "daily"
          },
          "signals": {
            "items": {
              "$ref": "#/components/schemas/SignalSpec"
            },
            "type": "array",
            "maxItems": 5,
            "title": "Signals",
            "description": "計算するシグナル一覧（最大5個）"
          },
          "start_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Date",
            "description": "開始日"
          },
          "end_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Date",
            "description": "終了日"
          }
        },
        "type": "object",
        "required": [
          "stock_code"
        ],
        "title": "SignalComputeRequest",
        "description": "シグナル計算リクエスト"
      },
      "SignalComputeResponse": {
        "properties": {
          "stock_code": {
            "type": "string",
            "title": "Stock Code",
            "description": "銘柄コード"
          },
          "timeframe": {
            "type": "string",
            "title": "Timeframe",
            "description": "時間枠"
          },
          "signals": {
            "additionalProperties": {
              "$ref": "#/components/schemas/SignalResult"
            },
            "type": "object",
            "title": "Signals",
            "description": "シグナル結果 {signal_type: SignalResult}"
          }
        },
        "type": "object",
        "required": [
          "stock_code",
          "timeframe",
          "signals"
        ],
        "title": "SignalComputeResponse",
        "description": "シグナル計算レスポンス"
      },
      "SignalFieldSchema": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "type": {
            "type": "string",
            "enum": [
              "boolean",
              "number",
              "string",
              "select"
            ],
            "title": "Type"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "default": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default"
          },
          "options": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Options"
          },
          "constraints": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/FieldConstraints"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "name",
          "type",
          "description"
        ],
        "title": "SignalFieldSchema",
        "description": "シグナルフィールド定義"
      },
      "SignalReferenceResponse": {
        "properties": {
          "signals": {
            "items": {
              "$ref": "#/components/schemas/SignalReferenceSchema"
            },
            "type": "array",
            "title": "Signals"
          },
          "categories": {
            "items": {
              "$ref": "#/components/schemas/SignalCategorySchema"
            },
            "type": "array",
            "title": "Categories"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "signals",
          "categories",
          "total"
        ],
        "title": "SignalReferenceResponse",
        "description": "シグナルリファレンス レスポンス"
      },
      "SignalReferenceSchema": {
        "properties": {
          "key": {
            "type": "string",
            "title": "Key",
            "description": "param_keyベースの安定スラッグ"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "category": {
            "type": "string",
            "title": "Category"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "usage_hint": {
            "type": "string",
            "title": "Usage Hint",
            "description": "entry_purpose + exit_purposeから自動合成"
          },
          "fields": {
            "items": {
              "$ref": "#/components/schemas/SignalFieldSchema"
            },
            "type": "array",
            "title": "Fields"
          },
          "yaml_snippet": {
            "type": "string",
            "title": "Yaml Snippet"
          },
          "exit_disabled": {
            "type": "boolean",
            "title": "Exit Disabled",
            "default": false
          },
          "data_requirements": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Data Requirements"
          }
        },
        "type": "object",
        "required": [
          "key",
          "name",
          "category",
          "description",
          "usage_hint",
          "fields",
          "yaml_snippet"
        ],
        "title": "SignalReferenceSchema",
        "description": "シグナル定義"
      },
      "SignalResult": {
        "properties": {
          "trigger_dates": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Trigger Dates",
            "description": "シグナル発火日リスト (YYYY-MM-DD)"
          },
          "count": {
            "type": "integer",
            "title": "Count",
            "description": "発火回数"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "エラーメッセージ（計算失敗時）"
          }
        },
        "type": "object",
        "required": [
          "trigger_dates",
          "count"
        ],
        "title": "SignalResult",
        "description": "単一シグナルの計算結果"
      },
      "SignalSpec": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "description": "シグナルタイプ"
          },
          "params": {
            "additionalProperties": true,
            "type": "object",
            "title": "Params",
            "description": "シグナルパラメータ"
          },
          "mode": {
            "type": "string",
            "enum": [
              "entry",
              "exit"
            ],
            "title": "Mode",
            "description": "シグナルモード (entry/exit)",
            "default": "entry"
          }
        },
        "type": "object",
        "required": [
          "type"
        ],
        "title": "SignalSpec",
        "description": "シグナル指定\n\nExample: {\"type\": \"rsi_threshold\", \"params\": {\"threshold\": 30}, \"mode\": \"entry\"}\n\nNote: type のバリデーションはサービスレイヤーで行う（エラー情報を結果に含めるため）"
      },
      "StatementItem": {
        "properties": {
          "DiscDate": {
            "type": "string",
            "title": "Discdate"
          },
          "Code": {
            "type": "string",
            "title": "Code"
          },
          "CurPerType": {
            "type": "string",
            "title": "Curpertype"
          },
          "CurPerSt": {
            "type": "string",
            "title": "Curperst"
          },
          "CurPerEn": {
            "type": "string",
            "title": "Curperen"
          },
          "EPS": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Eps"
          },
          "FEPS": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Feps"
          },
          "NxFEPS": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nxfeps"
          },
          "NCEPS": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nceps"
          },
          "FNCEPS": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fnceps"
          },
          "NxFNCEPS": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nxfnceps"
          }
        },
        "type": "object",
        "required": [
          "DiscDate",
          "Code",
          "CurPerType",
          "CurPerSt",
          "CurPerEn"
        ],
        "title": "StatementItem",
        "description": "財務諸表データ（EPS サブセット）"
      },
      "StatementsResponse": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/StatementItem"
            },
            "type": "array",
            "title": "Data"
          },
          "pagination_key": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pagination Key"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "StatementsResponse",
        "description": "財務諸表レスポンス（EPS サブセット）"
      },
      "StockDataPoint": {
        "properties": {
          "time": {
            "type": "string",
            "title": "Time"
          },
          "open": {
            "type": "number",
            "exclusiveMinimum": 0,
            "title": "Open"
          },
          "high": {
            "type": "number",
            "exclusiveMinimum": 0,
            "title": "High"
          },
          "low": {
            "type": "number",
            "exclusiveMinimum": 0,
            "title": "Low"
          },
          "close": {
            "type": "number",
            "exclusiveMinimum": 0,
            "title": "Close"
          },
          "volume": {
            "type": "number",
            "minimum": 0,
            "title": "Volume",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "time",
          "open",
          "high",
          "low",
          "close"
        ],
        "title": "StockDataPoint",
        "description": "銘柄チャートデータポイント"
      },
      "StockDataResponse": {
        "properties": {
          "symbol": {
            "type": "string",
            "title": "Symbol"
          },
          "companyName": {
            "type": "string",
            "title": "Companyname",
            "default": ""
          },
          "timeframe": {
            "type": "string",
            "title": "Timeframe"
          },
          "data": {
            "items": {
              "$ref": "#/components/schemas/StockDataPoint"
            },
            "type": "array",
            "title": "Data"
          },
          "lastUpdated": {
            "type": "string",
            "title": "Lastupdated",
            "description": "最終更新日時 (ISO 8601)"
          }
        },
        "type": "object",
        "required": [
          "symbol",
          "timeframe",
          "data",
          "lastUpdated"
        ],
        "title": "StockDataResponse",
        "description": "銘柄チャートデータレスポンス"
      },
      "StockInfo": {
        "properties": {
          "code": {
            "type": "string",
            "title": "Code",
            "description": "銘柄コード (5桁)"
          },
          "companyName": {
            "type": "string",
            "title": "Companyname",
            "description": "会社名（日本語）"
          },
          "companyNameEnglish": {
            "type": "string",
            "title": "Companynameenglish",
            "description": "会社名（英語）",
            "default": ""
          },
          "marketCode": {
            "type": "string",
            "title": "Marketcode",
            "description": "市場コード",
            "default": ""
          },
          "marketName": {
            "type": "string",
            "title": "Marketname",
            "description": "市場名",
            "default": ""
          },
          "sector17Code": {
            "type": "string",
            "title": "Sector17Code",
            "description": "17業種コード",
            "default": ""
          },
          "sector17Name": {
            "type": "string",
            "title": "Sector17Name",
            "description": "17業種名",
            "default": ""
          },
          "sector33Code": {
            "type": "string",
            "title": "Sector33Code",
            "description": "33業種コード",
            "default": ""
          },
          "sector33Name": {
            "type": "string",
            "title": "Sector33Name",
            "description": "33業種名",
            "default": ""
          },
          "scaleCategory": {
            "type": "string",
            "title": "Scalecategory",
            "description": "規模区分",
            "default": ""
          },
          "listedDate": {
            "type": "string",
            "title": "Listeddate",
            "description": "上場日",
            "default": ""
          }
        },
        "type": "object",
        "required": [
          "code",
          "companyName"
        ],
        "title": "StockInfo",
        "description": "銘柄情報（単一銘柄）"
      },
      "StockSearchResponse": {
        "properties": {
          "query": {
            "type": "string",
            "title": "Query"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/StockSearchResultItem"
            },
            "type": "array",
            "title": "Results"
          },
          "count": {
            "type": "integer",
            "minimum": 0,
            "title": "Count"
          }
        },
        "type": "object",
        "required": [
          "query",
          "results",
          "count"
        ],
        "title": "StockSearchResponse",
        "description": "銘柄検索レスポンス"
      },
      "StockSearchResultItem": {
        "properties": {
          "code": {
            "type": "string",
            "maxLength": 4,
            "minLength": 4,
            "title": "Code"
          },
          "companyName": {
            "type": "string",
            "title": "Companyname"
          },
          "companyNameEnglish": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Companynameenglish"
          },
          "marketCode": {
            "type": "string",
            "title": "Marketcode"
          },
          "marketName": {
            "type": "string",
            "title": "Marketname"
          },
          "sector33Name": {
            "type": "string",
            "title": "Sector33Name"
          }
        },
        "type": "object",
        "required": [
          "code",
          "companyName",
          "marketCode",
          "marketName",
          "sector33Name"
        ],
        "title": "StockSearchResultItem",
        "description": "銘柄検索結果アイテム"
      },
      "StrategyDeleteResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "削除成功フラグ"
          },
          "strategy_name": {
            "type": "string",
            "title": "Strategy Name",
            "description": "削除した戦略名"
          }
        },
        "type": "object",
        "required": [
          "success",
          "strategy_name"
        ],
        "title": "StrategyDeleteResponse",
        "description": "戦略削除レスポンス"
      },
      "StrategyDetailResponse": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "戦略名"
          },
          "category": {
            "type": "string",
            "title": "Category",
            "description": "カテゴリ"
          },
          "display_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Display Name",
            "description": "表示名"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "説明"
          },
          "config": {
            "additionalProperties": true,
            "type": "object",
            "title": "Config",
            "description": "戦略設定（YAML）"
          },
          "execution_info": {
            "additionalProperties": true,
            "type": "object",
            "title": "Execution Info",
            "description": "実行情報"
          }
        },
        "type": "object",
        "required": [
          "name",
          "category",
          "config",
          "execution_info"
        ],
        "title": "StrategyDetailResponse",
        "description": "戦略詳細レスポンス"
      },
      "StrategyDuplicateRequest": {
        "properties": {
          "new_name": {
            "type": "string",
            "title": "New Name",
            "description": "新しい戦略名（カテゴリなし）"
          }
        },
        "type": "object",
        "required": [
          "new_name"
        ],
        "title": "StrategyDuplicateRequest",
        "description": "戦略複製リクエスト"
      },
      "StrategyDuplicateResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "複製成功フラグ"
          },
          "new_strategy_name": {
            "type": "string",
            "title": "New Strategy Name",
            "description": "新しい戦略名"
          },
          "path": {
            "type": "string",
            "title": "Path",
            "description": "保存先パス"
          }
        },
        "type": "object",
        "required": [
          "success",
          "new_strategy_name",
          "path"
        ],
        "title": "StrategyDuplicateResponse",
        "description": "戦略複製レスポンス"
      },
      "StrategyListResponse": {
        "properties": {
          "strategies": {
            "items": {
              "$ref": "#/components/schemas/StrategyMetadataResponse"
            },
            "type": "array",
            "title": "Strategies",
            "description": "戦略一覧"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "総数"
          }
        },
        "type": "object",
        "required": [
          "strategies",
          "total"
        ],
        "title": "StrategyListResponse",
        "description": "戦略一覧レスポンス"
      },
      "StrategyMetadataResponse": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "戦略名（カテゴリ/名前）"
          },
          "category": {
            "type": "string",
            "title": "Category",
            "description": "カテゴリ（production, experimental, etc.）"
          },
          "display_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Display Name",
            "description": "表示名"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "説明"
          },
          "last_modified": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Modified",
            "description": "最終更新日時"
          }
        },
        "type": "object",
        "required": [
          "name",
          "category"
        ],
        "title": "StrategyMetadataResponse",
        "description": "戦略メタデータ"
      },
      "StrategyRenameRequest": {
        "properties": {
          "new_name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "New Name",
            "description": "新しい戦略名（カテゴリなし）"
          }
        },
        "type": "object",
        "required": [
          "new_name"
        ],
        "title": "StrategyRenameRequest",
        "description": "戦略リネームリクエスト"
      },
      "StrategyRenameResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "リネーム成功フラグ"
          },
          "old_name": {
            "type": "string",
            "title": "Old Name",
            "description": "変更前の戦略名"
          },
          "new_name": {
            "type": "string",
            "title": "New Name",
            "description": "変更後の戦略名"
          },
          "new_path": {
            "type": "string",
            "title": "New Path",
            "description": "新しいファイルパス"
          }
        },
        "type": "object",
        "required": [
          "success",
          "old_name",
          "new_name",
          "new_path"
        ],
        "title": "StrategyRenameResponse",
        "description": "戦略リネームレスポンス"
      },
      "StrategyUpdateRequest": {
        "properties": {
          "config": {
            "additionalProperties": true,
            "type": "object",
            "title": "Config",
            "description": "更新する戦略設定"
          }
        },
        "type": "object",
        "required": [
          "config"
        ],
        "title": "StrategyUpdateRequest",
        "description": "戦略設定更新リクエスト"
      },
      "StrategyUpdateResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "更新成功フラグ"
          },
          "strategy_name": {
            "type": "string",
            "title": "Strategy Name",
            "description": "戦略名"
          },
          "path": {
            "type": "string",
            "title": "Path",
            "description": "保存先パス"
          }
        },
        "type": "object",
        "required": [
          "success",
          "strategy_name",
          "path"
        ],
        "title": "StrategyUpdateResponse",
        "description": "戦略設定更新レスポンス"
      },
      "StrategyValidationRequest": {
        "properties": {
          "config": {
            "additionalProperties": true,
            "type": "object",
            "title": "Config",
            "description": "検証する戦略設定"
          }
        },
        "type": "object",
        "required": [
          "config"
        ],
        "title": "StrategyValidationRequest",
        "description": "戦略設定検証リクエスト"
      },
      "StrategyValidationResponse": {
        "properties": {
          "valid": {
            "type": "boolean",
            "title": "Valid",
            "description": "検証結果"
          },
          "errors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Errors",
            "description": "エラーメッセージ一覧"
          },
          "warnings": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Warnings",
            "description": "警告メッセージ一覧"
          }
        },
        "type": "object",
        "required": [
          "valid"
        ],
        "title": "StrategyValidationResponse",
        "description": "戦略設定検証レスポンス"
      },
      "TopixDataPoint": {
        "properties": {
          "date": {
            "type": "string",
            "title": "Date"
          },
          "open": {
            "type": "number",
            "exclusiveMinimum": 0,
            "title": "Open"
          },
          "high": {
            "type": "number",
            "exclusiveMinimum": 0,
            "title": "High"
          },
          "low": {
            "type": "number",
            "exclusiveMinimum": 0,
            "title": "Low"
          },
          "close": {
            "type": "number",
            "exclusiveMinimum": 0,
            "title": "Close"
          },
          "volume": {
            "type": "number",
            "minimum": 0,
            "title": "Volume",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "date",
          "open",
          "high",
          "low",
          "close"
        ],
        "title": "TopixDataPoint",
        "description": "TOPIX データポイント"
      },
      "TopixDataResponse": {
        "properties": {
          "topix": {
            "items": {
              "$ref": "#/components/schemas/TopixDataPoint"
            },
            "type": "array",
            "title": "Topix"
          },
          "lastUpdated": {
            "type": "string",
            "title": "Lastupdated",
            "description": "最終更新日時 (ISO 8601)"
          }
        },
        "type": "object",
        "required": [
          "topix",
          "lastUpdated"
        ],
        "title": "TopixDataResponse",
        "description": "TOPIX データレスポンス"
      },
      "TopixRawItem": {
        "properties": {
          "Date": {
            "type": "string",
            "title": "Date"
          },
          "Open": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Open"
          },
          "High": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "High"
          },
          "Low": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Low"
          },
          "Close": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Close"
          }
        },
        "type": "object",
        "required": [
          "Date"
        ],
        "title": "TopixRawItem",
        "description": "TOPIX 生データポイント"
      },
      "TopixRawResponse": {
        "properties": {
          "topix": {
            "items": {
              "$ref": "#/components/schemas/TopixRawItem"
            },
            "type": "array",
            "title": "Topix"
          }
        },
        "type": "object",
        "required": [
          "topix"
        ],
        "title": "TopixRawResponse",
        "description": "TOPIX 生データレスポンス"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "ErrorDetail": {
        "description": "バリデーションエラー詳細",
        "properties": {
          "field": {
            "description": "エラーフィールド名",
            "title": "Field",
            "type": "string"
          },
          "message": {
            "description": "エラーメッセージ",
            "title": "Message",
            "type": "string"
          }
        },
        "required": [
          "field",
          "message"
        ],
        "title": "ErrorDetail",
        "type": "object"
      },
      "ErrorResponse": {
        "description": "統一エラーレスポンス（Hono ErrorResponseSchema 互換）",
        "properties": {
          "status": {
            "const": "error",
            "default": "error",
            "description": "ステータス",
            "title": "Status",
            "type": "string"
          },
          "error": {
            "description": "HTTP ステータステキスト（例: 'Not Found'）",
            "title": "Error",
            "type": "string"
          },
          "message": {
            "description": "詳細エラーメッセージ",
            "title": "Message",
            "type": "string"
          },
          "details": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/ErrorDetail"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "description": "バリデーションエラー詳細",
            "title": "Details"
          },
          "timestamp": {
            "description": "ISO 8601 タイムスタンプ",
            "title": "Timestamp",
            "type": "string"
          },
          "correlationId": {
            "description": "リクエスト追跡用 UUID",
            "title": "Correlationid",
            "type": "string"
          }
        },
        "required": [
          "error",
          "message",
          "timestamp",
          "correlationId"
        ],
        "title": "ErrorResponse",
        "type": "object"
      }
    }
  },
  "tags": [
    {
      "name": "Health",
      "description": "Health check endpoints for service monitoring"
    },
    {
      "name": "JQuants Proxy",
      "description": "Layer 1 raw JQuants data for debugging and development"
    },
    {
      "name": "Chart",
      "description": "Layer 2 optimized chart-ready data (production, caching enabled)"
    },
    {
      "name": "Analytics",
      "description": "Layer 2 computed metrics and analytics for production"
    },
    {
      "name": "Market Data",
      "description": "Market data sync, validation, refresh, and database maintenance"
    },
    {
      "name": "Portfolio",
      "description": "Portfolio CRUD operations and stock holdings management"
    },
    {
      "name": "Watchlist",
      "description": "Watchlist management endpoints"
    },
    {
      "name": "Database",
      "description": "Database maintenance and management"
    },
    {
      "name": "Dataset",
      "description": "Dataset management endpoints"
    },
    {
      "name": "Dataset Data",
      "description": "Dataset data retrieval endpoints"
    },
    {
      "name": "Backtest",
      "description": "Backtest execution and management"
    },
    {
      "name": "Strategies",
      "description": "Strategy configuration and management"
    },
    {
      "name": "Optimization",
      "description": "Strategy optimization endpoints"
    },
    {
      "name": "Lab",
      "description": "Experimental analysis lab"
    },
    {
      "name": "Signals",
      "description": "Signal reference and schema"
    },
    {
      "name": "Indicators",
      "description": "Technical indicator computation"
    },
    {
      "name": "OHLCV",
      "description": "OHLCV data retrieval and processing"
    },
    {
      "name": "Fundamentals",
      "description": "Fundamental data analysis"
    }
  ]
}
